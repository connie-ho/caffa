{"version":3,"sources":["components/coffees/Coffees.module.scss","components/coffee-id/Coffee.module.scss","contexts/UserContext.js","components/image-search/UploadForm.js","firebase/config.js","components/image-search/helpers.js","contexts/SearchContext.js","components/image-search/ImageSearchModal.js","contexts/DataContext.js","components/dynamic-search/SearchBar.jsx","images/Caffa2.png","components/Nav.jsx","components/Login.jsx","images/31080.png","components/coffees/CoffeeListItem.jsx","components/coffees/Pagination.jsx","components/coffees/CoffeeList.jsx","components/home/Carousel/CoffeeListItemCarousel.jsx","helpers/selectors.js","components/home/Carousel/CoffeeCarousel.jsx","components/home/EditorsPicks.jsx","components/coffees/TopPicks.jsx","images/cafecropped.jpg","components/home/HeroComponent.jsx","components/Home.jsx","components/add-coffee/AddCoffeeModal.jsx","components/add-coffee/AddCoffeeButton.jsx","components/image-search/SearchList.js","contexts/FavouriteContext.js","components/coffee-id/Details.jsx","components/coffee-id/MapContainer.jsx","components/coffee-id/Cafe.jsx","contexts/ReviewContext.js","components/coffee-id/DeleteReview.jsx","components/coffee-id/Stars.jsx","components/coffee-id/ReviewForm.jsx","components/coffee-id/EditReview.jsx","components/coffee-id/ReviewListItem.jsx","components/coffee-id/ReviewList.jsx","components/coffee-id/AddReview.jsx","components/coffee-id/Coffee.jsx","components/coffees/SortListItem.jsx","components/coffees/SortList.jsx","components/coffees/FilterListCategoryItem.jsx","components/coffees/RegionSearch.jsx","components/coffees/FilterListCategory.jsx","components/coffees/FilterList.jsx","components/coffees/SortFilterDrawer.jsx","images/CaffaInverted.png","components/Footer.jsx","components/coffees/Coffees.jsx","components/my-account/AccountMenu.jsx","components/my-account/AccountSettings.jsx","components/my-account/AccountFavourites.jsx","components/my-account/AccountReviews.jsx","components/Account.jsx","components/Register.jsx","components/Main.jsx","components/NotLoggedIn.jsx","reducers/application.js","hooks/useApplicationData.js","App.jsx","index.js","components/home/editorPick.module.scss"],"names":["module","exports","React","createContext","UploadForm","props","file","setFile","error","setError","classes","makeStyles","AddHoverColor","background","color","transform","useClasses","useState","tempURL","setTempURL","types","changeHandler","e","selected","target","files","includes","type","URL","createObjectURL","className","accept","capture","onChange","root","fontSize","src","alt","width","height","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","projectStorage","storage","firestore","googleImageDetection","url","a","body","JSON","stringify","requests","features","maxResults","image","source","imageUri","response","axios","post","console","data","Object","keys","length","finalArray","textAnnotations","map","obj","description","FormDialog","useContext","SearchContext","setResults","results","uploadFile","setUploadFile","loading","setLoading","setUrl","setTextArray","history","useHistory","useEffect","storageRef","ref","name","put","on","snap","err","getDownloadURL","textArray","localStorage","setItem","push","setOpen","open","handleClose","centreAlignDialogActions","justifyContent","paper","overflow","maxHeight","alignItems","content","display","flexDirection","border","dialogTitle","useStyles","Dialog","onClose","aria-labelledby","DialogTitle","id","Typography","variant","style","DialogContent","CircularProgress","position","DialogActions","Button","onClick","margin","uploadAndSearch","SearchBar","state","DataContext","coffees","values","autoCompleteOpen","setAutoCompleteOpen","value","theme","inputRoot","inputInput","padding","spacing","paddingLeft","transition","transitions","create","breakpoints","up","autoComplete","borderRadius","Autocomplete","options","getOptionLabel","option","brand","onInputChange","event","reason","onBlur","onFocus","noOptionsText","renderInput","params","InputLabelProps","InputProps","rest","InputBase","placeholder","input","renderOption","cursor","backgroundColor","window","location","href","onKeyDown","image_url","marginRight","marginTop","grow","flexGrow","menuButton","appBar","maxWidth","zIndex","drawer","title","marginLeft","allCoffee","search","shape","fade","palette","common","white","searchIcon","pointerEvents","imageIcon","sectionDesktop","sectionMobile","mobileMenu","toolbar","mixins","Nav","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","modalOpen","setModalOpen","user","UserContext","logoutHandler","handleProfileMenuOpen","currentTarget","handleModalOpen","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","to","renderModal","mobileMenuId","renderMobileMenu","IconButton","aria-label","aria-controls","aria-haspopup","AppBar","elevation","Toolbar","Icon","edge","size","headIcon","noWrap","Paper","flexWrap","withoutLabel","textField","container","alignSelf","minHeight","avatar","secondary","main","form","submit","Login","loginHandler","setOpenLogin","email","setEmail","password","setPassword","showPassword","setValues","Container","component","CssBaseline","Avatar","onSubmit","preventDefault","then","pathname","go","prev","TextField","required","fullWidth","label","autoFocus","onInput","FormControl","clsx","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","onMouseDown","labelWidth","FormControlLabel","control","Checkbox","Grid","item","xs","Link","borderTop","media","backgroundSize","cardContent","WebkitLineClamp","WebkitBoxOrient","CoffeeListItem","coffee","Card","CardActionArea","CardMedia","CardContent","fontWeight","gutterBottom","region","avg_rating","bean","Paginations","coffeesPerPage","totalCoffees","page","setPage","pageNumbers","i","Math","ceil","Pagination","boundaryCount","count","CoffeeList","currentPage","setCurrentPage","indexOfLastCoffee","indexOfFirstCoffee","coffeeList","slice","sm","md","lg","path","direction","justify","down","getReviewsForCoffee","reviews","coffeeId","res","review","Number","coffee_id","avgRatingForCoffee","coffeeReviews","rating","sum","round","isLiked","favourites","userId","fav","user_id","getFilteredCoffees","allCoffees","filterCategories","filterObj","hasSelectedFilters","category","filters","formatRegions","regions","currIndex","CoffeeCarousel","homeCoffees","breakPoints","itemsToShow","itemsToScroll","pagination","FavoritesCoffeeList","avgRating","CoffeeListItemCarousel","SlicedCoffeeList","sort","b","itemPadding","EditorPick","userid","number","img","users","first_name","last_name","header","subtitle","paragraph","titleContainer","TopPicks","Aos","init","data-aos","data-aos-once","paddingBottom","paddingTop","data-aos-offset","objectFit","imageContainer","backgroundRepeat","top","textAlign","HeroComponent","heroImage","Home","setHomeCoffees","get","catch","message","selectEmpty","imageLabel","dialogAction","CoffeeModal","addCoffee","roast","acidity","grain_species","formState","setFormState","errors","setErrors","handleChange","noValidate","temp","every","x","validate","DialogContentText","helperText","multiline","rows","Select","labelId","AddCoffeeButton","button","disableRipple","SearchList","storedUrl","setStoredURL","storedArray","setStoredArray","getItem","fuse","Fuse","isCaseSensitive","includeScore","shouldSort","includeMatches","findAllMatches","minMatchCharLength","threshold","distance","useExtendedSearch","ignoreLocation","ignoreFieldNorm","searchTerm","toString","string","searchObject","wordsToReplace","RegExp","join","replace","toLowerCase","stripSearchTerms","Results","limit","searchResult","Details","FavouriteContext","addFavourite","deleteFavourite","setFav","numFav","num","calcFavourites","icon","MapContainer","latitude","longitude","locations","lat","lng","defaultCenter","setSelected","googleMapsApiKey","REACT_APP_GOOGLE_API_KEY","mapContainerStyle","flex","zoom","center","onSelect","clickable","onCloseClick","section","minWidth","Cafe","cafeData","setCafeData","query","split","cafeDetails","getCafeData","coordinates","DeleteReview","deleteReview","ReviewContext","aria-describedby","primary","justifySelf","Stars","styles","handleStarClick","setRating","setHover","Rating","precision","newRating","onChangeActive","newHover","ReviewForm","openReviewForm","setDescription","handleCloseReviewForm","handleSubmitReviewForm","EditReview","setOpenReviewForm","handleClickOpenReviewForm","editReview","marginBottom","userInfo","wordWrap","ReviewListItem","reviewUser","dateArr","Date","created_at","toDateString","date","openDelete","setOpenDelete","handleClickOpenDelete","avatar_url","CardActions","handleClickOpen","ReviewList","reviewList","A","AddReview","addReview","handStarClick","Coffee","useParams","setCoffeeReviews","coffeeFavourites","getFavouritesForCoffee","reviewed","setReviewed","isReviewed","SortListItem","Radio","nested","subheader","SortList","sortOptions","handleSort","sortOption","setSortOption","sortList","List","ListSubheader","RadioGroup","radio","FilterListCategory","setFilters","handleFilters","checked","setChecked","ListItem","indexOf","newCategory","splice","newFilter","inputProps","ListItemText","RegionSearch","multiple","getOptionSelected","defaultValue","filterSelectedOptions","val","items","categoryItems","Collapse","in","timeout","unmountOnExit","disablePadding","FilterList","categories","categoryList","cat","flexShrink","left","text","drawerPaper","SortFilterDrawer","useTheme","mobileOpen","setMobileOpen","handleDrawerToggle","Divider","undefined","document","Hidden","smUp","implementation","Drawer","anchor","ModalProps","xsDown","footer","light","footerContainer","alignContent","Footer","Coffees","1","2","3","4","5","6","7","8","9","10","filteredCoffees","setFilteredCoffees","hasFilters","setHasFilters","newHasFilters","newFilteredCoffees","copyFilters","listItem","boxSizing","AccountMenu","AccountSettings","editUserHandler","handleSubmit","CardHeader","Box","m","settingsButton","AccountFavourites","Faves","getFavouritesForUser","fave","userFavCoffees","seeMoreBtn","disableElevation","AccountReviews","getUserReviews","reviewItemSection","class","reviewCard","drawerContainer","reviewCardActionArea","accountContent","avatarSettings","settingsForm","secondTitle","fontVariant","SubTitle","mainTitle","Account","titleSize","setCurrUser","Helmet","subTitleSize","Copyright","align","getFullYear","firstName","setFirstName","lastName","setLastName","registerHandler","mt","Main","Provider","exact","Transition","forwardRef","Slide","NotLoggedIn","openLogin","handleLoginClose","TransitionComponent","SET_APPLICATION_DATA","SET_FAVOURITE","SET_REVIEW","SET_COFFEE","reducer","action","Error","useApplicationData","useReducer","dispatch","Promise","all","getRegions","req","favourite","delete","patch","formData","App","setUser","log","library","add","faFlask","faDna","faFire","createMuiTheme","default","typography","fontFamily","h1","h2","h3","h4","h5","h6","MuiButtonBase","overrides","MuiOutlinedInput","borderColor","borderWidth","MuiButton","outlinedPrimary","responsiveFontSizes","ReactDOM","render","StrictMode","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.5555e1c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"coffees-page\":\"Coffees_coffees-page__30OE1\",\"region-search-input\":\"Coffees_region-search-input__1BCci\",\"no-results\":\"Coffees_no-results__CEH72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coffee-details-wrapper\":\"Coffee_coffee-details-wrapper__5V81h\",\"coffee-details-section\":\"Coffee_coffee-details-section__1qExE\",\"coffee-details-img\":\"Coffee_coffee-details-img__3OE-F\",\"coffee-details-name\":\"Coffee_coffee-details-name__1XVuT\",\"coffee-details-brand\":\"Coffee_coffee-details-brand__6Q9Tx\",\"coffee-details-region\":\"Coffee_coffee-details-region__BJWN9\",\"coffee-details-rating\":\"Coffee_coffee-details-rating__3FpkS\",\"coffee-details-description\":\"Coffee_coffee-details-description__OoDyz\",\"coffee-like-icon\":\"Coffee_coffee-like-icon__p1YAp\",\"coffee-unlike-icon\":\"Coffee_coffee-unlike-icon__2lW9u\",\"coffee-characteristic-section\":\"Coffee_coffee-characteristic-section__2kBlJ\",\"characteristic\":\"Coffee_characteristic__2Gxpd\",\"icon\":\"Coffee_icon__Plymg\",\"coffee-review-wrapper\":\"Coffee_coffee-review-wrapper__2aPcO\",\"coffee-review-heading\":\"Coffee_coffee-review-heading__1R3ow\",\"coffee-review-section\":\"Coffee_coffee-review-section__3HSNH\",\"coffee-review-list\":\"Coffee_coffee-review-list__12SU-\",\"no-reviews\":\"Coffee_no-reviews__2i-zt\",\"coffee-review-stars\":\"Coffee_coffee-review-stars__1UeJl\",\"coffee-review-user-info\":\"Coffee_coffee-review-user-info__1-Yr8\",\"coffee-review-date\":\"Coffee_coffee-review-date__2AveA\",\"coffee-review-rating\":\"Coffee_coffee-review-rating__1HLmA\",\"coffee-cafe-section\":\"Coffee_coffee-cafe-section__3BcW2\",\"map-info\":\"Coffee_map-info__2b2iR\"};","import React from \"react\";\n\nexport default React.createContext();\n","import React, { useState } from \"react\";\nimport AddCircleOutlineOutlinedIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\nimport \"./UploadForm.scss\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst UploadForm = (props) => {\n  const { file, setFile, error, setError } = props;\n\n  const useClasses = makeStyles(() => ({\n    AddHoverColor: {\n      \"&:hover\": {\n        background: \"white\",\n        color: \"#f7bc2c\",\n      },\n    },\n    transform: {\n      transform: `translate(0px, 6rem)`,\n      color: \"#3d3a3a\",\n    },\n  }));\n\n  const classes = useClasses();\n\n  const [tempURL, setTempURL] = useState(\"\");\n  const types = [\"image/png\", \"image/jpeg\"];\n\n  const changeHandler = (e) => {\n    let selected = e.target.files[0];\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setTempURL(URL.createObjectURL(e.target.files[0]));\n      setError(\"\");\n    } else {\n      setFile(null);\n      setError(\"Please select an image file(png or jpeg)\");\n    }\n  };\n\n  return (\n    <form>\n      <label className=\"file-upload\">\n        {!tempURL && (\n          <>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              capture\n              onChange={changeHandler}\n            />\n            <AddCircleOutlineOutlinedIcon\n              color=\"primary\"\n              className={classes.transform}\n              classes={{ root: classes.AddHoverColor }}\n              fontSize=\"large\"\n            />\n          </>\n        )}\n        {file && (\n          <div className=\"output\">\n            {tempURL && (\n              <>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  capture\n                  onChange={changeHandler}\n                />\n                <img src={tempURL} alt=\"cafe\" width=\"200\" height=\"200\" />{\" \"}\n              </>\n            )}\n          </div>\n        )}\n        {error && <div className=\"error\">{error}</div>}\n      </label>\n    </form>\n  );\n};\n\nexport default UploadForm;\n","import firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\n\n//Web app config\nvar firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: \"project-test-123-84049.firebaseapp.com\",\n  projectId: \"project-test-123-84049\",\n  storageBucket: \"project-test-123-84049.appspot.com\",\n  messagingSenderId: \"224670135033\",\n  appId: \"1:224670135033:web:d466d7377803e19abb2828\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\n\nexport { projectStorage, projectFirestore };\n","import axios from \"axios\";\n\nexport function stripSearchTerms(searchObject) {\n  const strippedWords = [\n    \"coffee\",\n    \"decaf\",\n    \"organic\",\n    \"usda\",\n    \"roast\",\n    \"roasted\",\n  ];\n  const wordsToReplace = new RegExp(\n    \"\\\\b\" + strippedWords.join(\"|\") + \"\\\\b\",\n    \"gi\"\n  );\n\n  return searchObject\n    .replace(/\\n/g, \" \")\n    .replace(/[.,/#!$%^&*;°•':{}=\\-_`~()]/g, \"\")\n    .replace(wordsToReplace, \"\")\n    .toLowerCase();\n}\n\nexport async function googleImageDetection(url) {\n  let body = JSON.stringify({\n    requests: [\n      {\n        features: [{ type: \"TEXT_DETECTION\", maxResults: 10 }],\n        image: {\n          source: {\n            imageUri: url,\n          },\n        },\n      },\n    ],\n  });\n\n  let response = \"\";\n\n  try {\n    response = await axios.post(\"/api/search\", { body });\n  } catch (error) {\n    console.error(error);\n  }\n\n  //If data sent back is an error message\n  if (!response || response.data.error) {\n    return [\"error\"];\n  }\n  //If data sent back is an empty object\n  else if (Object.keys(response.data).length === 0) {\n    return [];\n  } else {\n    let finalArray = response.data.textAnnotations.map(function (obj) {\n      return obj.description;\n    });\n\n    return finalArray;\n  }\n}\n","import React from \"react\";\n\nexport default React.createContext();\n","import { React, useState, useEffect, useContext } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { makeStyles } from \"@material-ui/core\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport UploadForm from \"./UploadForm\";\nimport { projectStorage } from \"../../firebase/config\";\nimport { googleImageDetection } from \"./helpers\";\nimport { useHistory } from \"react-router-dom\";\nimport SearchContext from \"../../contexts/SearchContext\";\n\nexport default function FormDialog(props) {\n  const { results, setResults } = useContext(SearchContext);\n  const [file, setFile] = useState(null);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(null);\n  const [textArray, setTextArray] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (uploadFile) {\n      setLoading(true);\n\n      const storageRef = projectStorage.ref(uploadFile.name);\n      storageRef.put(uploadFile).on(\n        \"state_changed\",\n        (snap) => {},\n        (err) => {\n          setError(err);\n        },\n        async () => {\n          const url = await storageRef.getDownloadURL();\n          const textArray = await googleImageDetection(url);\n\n          setUrl(url);\n          setTextArray(textArray);\n\n          await setResults({\n            url,\n            textArray: textArray,\n          });\n\n          localStorage.setItem(\"url\", url);\n          localStorage.setItem(\"textarray\", textArray);\n\n          setLoading(false);\n          history.push(\"/search\");\n          setOpen(false);\n        }\n      );\n    }\n  }, [uploadFile]);\n\n  const { open, setOpen } = props;\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const uploadAndSearch = (file) => {\n    if (file) {\n      setUploadFile(file);\n    } else {\n      setError(\"File not selected\");\n    }\n  };\n\n  const useStyles = makeStyles({\n    centreAlignDialogActions: {\n      justifyContent: \"center\",\n    },\n    paper: {\n      overflow: \"auto\",\n      maxHeight: \"700px\",\n      height: 450,\n      width: 400,\n      alignItems: \"center\",\n    },\n    content: {\n      overflow: \"auto\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n      height: 300,\n      width: 300,\n      alignItems: \"center\",\n      border: \"1px dotted black\",\n    },\n    loading: {\n      transform: `translate(0em, 0rem)`,\n    },\n    dialogTitle: {\n      root: {\n        fontSize: \"2em\",\n      },\n    },\n  });\n\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Dialog\n        classes={{ paper: classes.paper }}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          <Typography variant=\"h6\" style={{ fontSize: \"1.5em\" }}>\n            {\" \"}\n            Image Search{\" \"}\n          </Typography>\n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          <UploadForm\n            file={file}\n            setFile={setFile}\n            error={error}\n            setError={setError}\n            loading={loading}\n          />\n          {loading && (\n            <CircularProgress color=\"primary\" style={{ position: \"center\" }} />\n          )}\n        </DialogContent>\n\n        <DialogActions classes={{ root: classes.centreAlignDialogActions }}>\n          <Button\n            variant=\"outlined\"\n            onClick={handleClose}\n            style={{ fontSize: \"1.0em\", margin: \"0.5rem\" }}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={() => {\n              uploadAndSearch(file);\n            }}\n            style={{ fontSize: \"1.0em\", margin: \"0.5rem\" }}\n            color=\"primary\"\n          >\n            Search\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default React.createContext();\n","import { React, useState, useContext } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport DataContext from \"../../contexts/DataContext\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nexport default function SearchBar(props) {\n  const { state } = useContext(DataContext);\n  const coffees = Object.values(state.coffees);\n  const [autoCompleteOpen, setAutoCompleteOpen] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const useStyles = makeStyles((theme) => ({\n    inputRoot: {\n      color: \"inherit\",\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"20ch\",\n      },\n    },\n    autoComplete: {\n      border: \"1px solid #d3d3d3\",\n      borderRadius: \"2rem\",\n\n      [theme.breakpoints.up(\"xs\")]: {\n        width: \"30ch\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"90ch\",\n      },\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <Autocomplete\n      id=\"Search Bar\"\n      options={coffees}\n      className={classes.autoComplete}\n      getOptionLabel={(option) => `${option.brand} ${option.name}`}\n      //set autocomplete to only open on input\n      open={autoCompleteOpen}\n      onInputChange={(event, value, reason) => {\n        switch (reason) {\n          case \"input\":\n            setAutoCompleteOpen(!!value);\n            break;\n          case \"reset\":\n          case \"clear\":\n            setAutoCompleteOpen(false);\n            break;\n          default:\n            break;\n        }\n      }}\n      onBlur={() => {\n        setAutoCompleteOpen(false);\n      }}\n      onFocus={() => {\n        if (value) {\n          setAutoCompleteOpen(true);\n        }\n      }}\n      noOptionsText=\"We can't find your coffee! Try our image search!\"\n      renderInput={(params) => {\n        const { InputLabelProps, InputProps, ...rest } = params;\n        return (\n          <InputBase\n            placeholder=\"Search…\"\n            value={value}\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            {...params.InputProps}\n            {...rest}\n          />\n        );\n      }}\n      renderOption={(option) => {\n        return (\n          <>\n            <span\n              style={{ cursor: \"pointer\", backgroundColor: \"transparent\" }}\n              onClick={() => {\n                window.location.href = `/coffees/${option.id}`;\n              }}\n              onKeyDown={() => {\n                window.location.href = `/coffees/${option.id}`;\n              }}\n            >\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <img\n                  src={option.image_url}\n                  height={100}\n                  width={100}\n                  style={{ marginRight: \"1em\" }}\n                  alt={option.name}\n                />\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"space-around\",\n                  }}\n                >\n                  <p>{option.brand}</p>\n                  <p style={{ marginTop: \"-10px\" }}>{option.name}</p>\n                </div>\n              </div>\n            </span>\n          </>\n        );\n      }}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Caffa2.ec9cae0b.png\";","import React, { useContext } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport { Icon } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\nimport FormDialog from \"./image-search/ImageSearchModal\";\nimport SearchBar from \"./dynamic-search/SearchBar\";\nimport headIcon from \"../images/Caffa2.png\";\nimport Paper from \"@material-ui/core/Paper\";\nimport FreeBreakfastIcon from \"@material-ui/icons/FreeBreakfast\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  appBar: {\n    padding: \"0.5rem 0.5rem\",\n    maxWidth: \"100%\",\n    zIndex: theme.zIndex.drawer + 1,\n    alignItems: \"center\",\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n      marginLeft: 20,\n    },\n  },\n  allCoffee: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n      marginLeft: 0,\n      marginRight: \"2em\",\n    },\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: theme.spacing(1),\n    [theme.breakpoints.up(\"sm\")]: {\n      marginRight: theme.spacing(1),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  imageIcon: {\n    marginRight: \"1.5em\",\n\n    [theme.breakpoints.up(\"md\")]: {\n      marginRight: \"3em\",\n    },\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\",\n      marginLeft: \"1.5em\",\n    },\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  mobileMenu: {\n    marginRight: theme.spacing(1),\n  },\n  toolbar: theme.mixins.toolbar,\n}));\n\nexport default function Nav(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const { user } = useContext(UserContext);\n\n  const { logoutHandler } = props;\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleModalOpen = () => {\n    setModalOpen(true);\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const menuId = \"primary-search-account-menu\";\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account\">My Account</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/favourites\">Favourited Coffee</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/reviews\">Reviewed Coffee</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/settings\">Settings</Link>\n        </MenuItem>\n      )}\n      <MenuItem onClick={handleMenuClose}>\n        {user ? (\n          <Link onClick={logoutHandler}>Logout</Link>\n        ) : (\n          <Link to=\"/login\">Login</Link>\n        )}\n      </MenuItem>\n    </Menu>\n  );\n\n  const renderModal = <FormDialog open={modalOpen} setOpen={setModalOpen} />;\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = (\n    <Menu\n      className={classes.mobileMenu}\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n      </MenuItem>\n      <MenuItem onClick={handleModalOpen}>\n        <IconButton\n          aria-label=\"image-search\"\n          aria-controls=\"image-search\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <CameraAltIcon />\n        </IconButton>\n      </MenuItem>\n      <MenuItem onClick={handleMenuClose}>\n        <IconButton\n          aria-label=\"all-coffeescoffees\"\n          aria-controls=\"all-coffees\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <NavLink to=\"/coffees\">\n            <FreeBreakfastIcon />{\" \"}\n          </NavLink>\n        </IconButton>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      <AppBar\n        elevation={2}\n        position=\"fixed\"\n        className={classes.appBar}\n        style={{ background: \"#FFFFFF\" }}\n      >\n        <Toolbar>\n          <Link to=\"/\" className={classes.imageIcon} style={{ width: \"50px\" }}>\n            <Icon\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              size=\"small\"\n            >\n              <img src={headIcon} width=\"60\" height=\"50\" alt=\"caffa\" />\n            </Icon>\n          </Link>\n          <Link to=\"/coffees\">\n            <Typography className={classes.allCoffee} variant=\"body2\" noWrap>\n              COFFEES\n            </Typography>\n          </Link>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <SearchBar />\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"camera\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleModalOpen}\n              color=\"inherit\"\n            >\n              <CameraAltIcon />\n            </IconButton>\n\n            {user && (\n              <IconButton\n                edge=\"end\"\n                aria-label=\"account of current user\"\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                onClick={handleProfileMenuOpen}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n            )}\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n\n          <div>\n            {user ? null : (\n              <Link to=\"/login\">\n                <Typography className={classes.title} variant=\"body2\" noWrap>\n                  LOGIN\n                </Typography>\n              </Link>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n      {renderModal}\n      <Paper>\n        <div className={classes.toolbar} />\n      </Paper>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"../contexts/UserContext\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3),\n  },\n  textField: {\n    width: \"100%\",\n  },\n  container: {\n    alignSelf: \"center\",\n    minHeight: \"90vh\",\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Login(props) {\n  const classes = useStyles();\n  const { loginHandler, setOpenLogin } = useContext(UserContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [values, setValues] = useState({\n    showPassword: false,\n  });\n\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    loginHandler(email, password).then(() => {\n      if (history.location.pathname !== \"/login\") {\n        history.go();\n      } else {\n        history.push(\"/\");\n      }\n\n      setOpenLogin((prev) => false);\n    });\n  };\n\n  const handleClickShowPassword = () => {\n    setValues({ ...values, showPassword: !values.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.container}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={email}\n            onInput={(e) => setEmail(e.target.value)}\n          />\n          <FormControl className={clsx(classes.textField)} variant=\"outlined\">\n            <InputLabel htmlFor=\"outlined-adornment-password\">\n              Password*\n            </InputLabel>\n            <OutlinedInput\n              label=\"Password\"\n              required\n              fullWidth\n              name=\"password\"\n              type={values.showPassword ? \"text\" : \"password\"}\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onInput={(e) => setPassword(e.target.value)}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                    edge=\"end\"\n                  >\n                    {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              }\n              labelWidth={70}\n            />\n          </FormControl>\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"outlined\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link to=\"/register\" color=\"secondary\">\n                Don't have a profile? Click here to register!\n              </Link>\n            </Grid>\n            <Grid item></Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/31080.89da34dd.png\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport bean from \"../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: \"0 auto\",\n    width: 300,\n    height: 400,\n    borderTop: `1px solid rgb(238,238,238)`,\n    borderRadius: \"2%\",\n    transition: \"transform 0.15s ease-in-out\",\n    \"&:hover\": {\n      transform: \"scale3d(1.05, 1.05, 1)\",\n      background: \"transparent\",\n    },\n  },\n  media: {\n    height: 275,\n    backgroundSize: \"contain\",\n  },\n  cardContent: {\n    height: 175,\n  },\n  description: {\n    overflow: \"hidden\",\n    display: \"-webkit-box\",\n    WebkitLineClamp: 3,\n    WebkitBoxOrient: \"vertical\",\n  },\n}));\n\nfunction CoffeeListItem(props) {\n  const classes = useStyles();\n  // const params = useParams();\n  const { coffee } = props;\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <Link to={`/coffees/${coffee.id}`}>\n          <CardMedia className={classes.media} image={coffee.image_url} />\n          <CardContent className={classes.cardContent}>\n            <Typography\n              color=\"secondary\"\n              variant=\"h6\"\n              style={{ fontSize: \"1rem\", fontWeight: 300 }}\n              component=\"h6\"\n            >\n              {coffee.brand}\n            </Typography>\n            <Typography\n              variant=\"h2\"\n              style={{ fontSize: \"1.3rem\" }}\n              component=\"h2\"\n            >\n              {coffee.name}\n            </Typography>\n            <Typography\n              color=\"secondary\"\n              gutterBottom\n              variant=\"subtitle1\"\n              style={{ fontSize: \"1.0em\", padding: \"10 10\", color: \"#646264\" }}\n              component=\"h3\"\n            >\n              {coffee.region},{\" \"}\n              {coffee.avg_rating ? coffee.avg_rating : \"No Ratings Yet!\"}{\" \"}\n              {coffee.avg_rating && (\n                <img\n                  src={bean}\n                  alt=\"bean\"\n                  style={{ height: \"15px\", width: \"15px\" }}\n                />\n              )}\n            </Typography>\n          </CardContent>\n        </Link>\n      </CardActionArea>\n    </Card>\n  );\n}\n\nexport default CoffeeListItem;\n","import Pagination from \"@material-ui/lab/Pagination\";\n\nconst Paginations = ({ coffeesPerPage, totalCoffees, page, setPage }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalCoffees / coffeesPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  return (\n    <Pagination\n      style={{ margin: \"1em\" }}\n      color=\"primary\"\n      boundaryCount={2}\n      count={pageNumbers[pageNumbers.length - 1]}\n      page={page}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default Paginations;\n","import { Route, Switch } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport CoffeeListItem from \"./CoffeeListItem\";\nimport Paginations from \"./Pagination\";\n\n// external styles\nimport { Grid } from \"@material-ui/core\";\n\nconst CoffeeList = (props) => {\n  const { coffees } = props;\n\n  // Pagination Logic\n  const [currentPage, setCurrentPage] = useState(1);\n  const [coffeesPerPage, setCoffeesPerPage] = useState(9);\n\n  const indexOfLastCoffee = currentPage * coffeesPerPage;\n  const indexOfFirstCoffee = indexOfLastCoffee - coffeesPerPage;\n  const currentCoffees = coffees.slice(indexOfFirstCoffee, indexOfLastCoffee);\n\n  // Create Coffee List Item\n  const coffeeList = currentCoffees.map((coffee) => {\n    return (\n      <Grid\n        item\n        xs={12}\n        sm={8}\n        md={6}\n        lg={4}\n        style={{ padding: \"1.5em 1.5em\" }}\n      >\n        <CoffeeListItem key={coffee.id} coffee={coffee} />\n      </Grid>\n    );\n  });\n\n  return (\n    <Switch>\n      <Route path=\"/coffees/:id\"></Route>\n      <Route path=\"/coffees\">\n        <Grid\n          item\n          container\n          direction=\"row\"\n          style={{ marginTop: \"5rem\", minHeight: \"80vh\" }}\n        >\n          <Grid item xs={0} sm={1} />\n          <Grid item xs={12} sm={10}>\n            <Grid container spacing=\"0\">\n              {coffeeList}\n              <Grid container xs={12} justify=\"center\">\n                <Paginations\n                  page={currentPage}\n                  setPage={setCurrentPage}\n                  coffeesPerPage={coffeesPerPage}\n                  totalCoffees={coffees.length}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={0} sm={1} />\n        </Grid>\n      </Route>\n    </Switch>\n  );\n};\n\nexport default CoffeeList;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport bean from \"../../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: \"0 auto\",\n    width: 300,\n    height: 400,\n    borderTop: `1px solid rgb(238,238,238)`,\n    borderRadius: \"2%\",\n    transition: \"transform 0.15s ease-in-out\",\n    \"&:hover\": {\n      transform: \"scale3d(1.05, 1.05, 1)\",\n      background: \"transparent\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: 235,\n      height: 450,\n    },\n  },\n  media: {\n    height: 275,\n    backgroundSize: \"contain\",\n  },\n  cardContent: {\n    height: 175,\n  },\n  description: {\n    overflow: \"hidden\",\n    display: \"-webkit-box\",\n    WebkitLineClamp: 3,\n    WebkitBoxOrient: \"vertical\",\n  },\n}));\n\nfunction CoffeeListItem(props) {\n  const classes = useStyles();\n  // const params = useParams();\n  const { coffee } = props;\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <Link to={`/coffees/${coffee.id}`}>\n          <CardMedia className={classes.media} image={coffee.image_url} />\n          <CardContent className={classes.cardContent}>\n            <Typography\n              color=\"secondary\"\n              variant=\"h6\"\n              style={{ fontSize: \"1rem\", fontWeight: 300 }}\n              component=\"h6\"\n            >\n              {coffee.brand}\n            </Typography>\n            <Typography\n              variant=\"h2\"\n              style={{ fontSize: \"1.3rem\" }}\n              component=\"h2\"\n            >\n              {coffee.name}\n            </Typography>\n            <Typography\n              color=\"secondary\"\n              gutterBottom\n              variant=\"subtitle1\"\n              style={{ fontSize: \"1.0em\", padding: \"10 10\", color: \"#646264\" }}\n              component=\"h3\"\n            >\n              {coffee.region},{\" \"}\n              {coffee.avg_rating ? coffee.avg_rating : \"No Ratings Yet!\"}{\" \"}\n              {coffee.avg_rating && (\n                <img\n                  src={bean}\n                  style={{ height: \"15px\", width: \"15px\" }}\n                  alt=\"bean\"\n                />\n              )}\n            </Typography>\n          </CardContent>\n        </Link>\n      </CardActionArea>\n    </Card>\n  );\n}\n\nexport default CoffeeListItem;\n","/// returns array of reviews for that coffee\nexport function getReviewsForCoffee(reviews, coffeeId) {\n  const res = [];\n\n  for (const review of reviews) {\n    if (review && Number(review.coffee_id) === Number(coffeeId)) {\n      res.push(review);\n    }\n  }\n  return res;\n}\n\n// returns array of reviews for that coffee\nexport function getUserReviews(reviews, userId) {\n  const res = [];\n\n  for (const review of reviews) {\n    if (review && Number(review.user_id) === Number(userId)) {\n      res.push(review);\n    }\n  }\n  return res;\n}\n\n// returns avg rating of coffee\nexport function avgRatingForCoffee(coffeeReviews) {\n  if (!coffeeReviews.length) {\n    return;\n  }\n\n  if (coffeeReviews.length === 1) {\n    return Number(coffeeReviews[0].rating);\n  }\n\n  let sum = 0;\n\n  for (const review of coffeeReviews) {\n    sum += Number(review.rating);\n  }\n\n  return Math.round((sum / coffeeReviews.length) * 10) / 10;\n}\n\n// returns array of favourites for that coffee\nexport function getFavouritesForCoffee(favourites, coffeeId) {\n  const res = [];\n\n  for (const fav of favourites) {\n    if (fav && Number(fav.coffee_id) === Number(coffeeId)) {\n      res.push(fav);\n    }\n  }\n  return res;\n}\n\n// returns array of favourites for that user\nexport function getFavouritesForUser(favourites, userId) {\n  const res = [];\n\n  for (const fav of favourites) {\n    if (fav && Number(fav.user_id) === Number(userId)) {\n      res.push(fav);\n    }\n  }\n  return res;\n}\n\n// returns the fav id if the coffee is already liked otherwise null;\n// pass in the filtered favourites array for that coffee\nexport function isLiked(favourites, userId) {\n  for (const fav of favourites) {\n    if (fav.user_id === userId) return fav.id;\n  }\n\n  return null;\n}\n\n// pass in filtered favourites array for that coffee\nexport function calcFavourites(favourites) {\n  let num = 0;\n\n  for (const fav of favourites) {\n    if (fav) {\n      num += 1;\n    }\n  }\n  return num;\n}\n\n// pass in filtered reviews array for that coffee\nexport function isReviewed(reviews, userId) {\n  if (!userId) {\n    return false;\n  }\n\n  for (const review of reviews) {\n    if (Number(review.user_id) === Number(userId)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// get values of coffee characteristics in all items\nexport function charValues(characteristics) {\n  const res = {};\n\n  for (const char of characteristics) {\n    res[char] = char;\n  }\n}\n\n// get filtered coffees\n// filterCategories are all the possible categories the user can use to filter\n// filterObj are all the filters the user has chosen\nexport function getFilteredCoffees(allCoffees, filterCategories, filterObj) {\n  const res = [];\n\n  if (!hasSelectedFilters(filterObj)) {\n    return allCoffees;\n  }\n\n  if (!allCoffees.length) {\n    return res;\n  }\n\n  // category are things like region, acidity, roast etc ...\n  for (const category in filterObj) {\n    if (!filterObj[category] || !filterObj[category].length) {\n      continue;\n    }\n    for (const coffee of allCoffees) {\n      // item is a number that maps to the items in filtercategories\n\n      for (const item of filterObj[category]) {\n        if (\n          coffee[category] === filterCategories[category][\"items\"][item][\"type\"]\n        ) {\n          // works if the coffee is in the same category\n          res.push(coffee);\n        }\n      }\n    }\n    // make that category null so that the next iteration skips it\n    filterObj[category] = [];\n    return getFilteredCoffees(res, filterCategories, filterObj);\n  }\n}\n\n// checks if there are any filters selected\nexport function hasSelectedFilters(filters) {\n  for (const filter of Object.values(filters)) {\n    if (filter.length) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function getRegions(coffees) {\n  const res = {};\n\n  for (const coffee of coffees) {\n    res[coffee.region] = coffee.region;\n  }\n\n  return Object.values(res);\n}\n\n// format regions so that it is filterable\nexport function formatRegions(regions, i) {\n  const res = {};\n\n  let currIndex = i;\n  for (const region of regions) {\n    res[currIndex] = {\n      id: currIndex,\n      type: region,\n    };\n    currIndex += 1;\n  }\n\n  return res;\n}\n\n// Get coffee review images by matching id\nexport function getReviewedCoffee(reviews, coffees) {\n  const res = [];\n\n  for (const rItem in reviews) {\n    for (const cItem in coffees) {\n      if (reviews[rItem].coffee_id === coffees[cItem].id) {\n        res.push(coffees[cItem]);\n      }\n    }\n  }\n  return res;\n}\n\n// Get coffee list based on user favourites\nexport function userFavCoffees(favourites, coffees) {\n  const res = [];\n\n  for (const fave of favourites) {\n    res.push(coffees[fave.coffee_id]);\n  }\n  return res;\n}\n","import { React, useContext } from \"react\";\nimport Carousel from \"react-elastic-carousel\";\nimport CoffeeListItemCarousel from \"../Carousel/CoffeeListItemCarousel\";\nimport {\n  getReviewsForCoffee,\n  avgRatingForCoffee,\n} from \"../../../helpers/selectors\";\nimport DataContext from \"../../../contexts/DataContext\";\nimport { Grid } from \"@material-ui/core\";\nimport \"./CarouselTest.scss\";\n\nconst CoffeeCarousel = (props) => {\n  const { state } = useContext(DataContext);\n  const { homeCoffees, type } = props;\n  const reviews = state.reviews;\n\n  const coffees = Object.values(homeCoffees);\n  const breakPoints = [\n    { width: 1, itemsToShow: 1, itemsToScroll: 1, pagination: false },\n    { width: 500, itemsToShow: 2, itemsToScroll: 1, pagination: true },\n    { width: 1000, itemsToShow: 3, itemsToScroll: 1, pagination: true },\n    { width: 1300, itemsToShow: 4, itemsToScroll: 2, pagination: true },\n    { width: 1600, itemsToShow: 5, itemsToScroll: 2, pagination: true },\n  ];\n\n  const FavoritesCoffeeList = coffees.map((coffee) => {\n    const coffeeReviews = getReviewsForCoffee(\n      Object.values(reviews),\n      coffee.id\n    );\n    const avgRating = avgRatingForCoffee(coffeeReviews);\n    return (\n      <Grid item xs={12}>\n        <CoffeeListItemCarousel\n          key={coffee.id}\n          coffee={coffee}\n          avgRating={avgRating}\n        />\n      </Grid>\n    );\n  });\n\n  const MostReviewedCoffeeList = Object.values(state.coffees).sort((a, b) => {\n    return b.avg_rating - a.avg_rating;\n  });\n\n  const SlicedCoffeeList = MostReviewedCoffeeList.slice(0, 6).map((coffee) => {\n    const coffeeReviews = getReviewsForCoffee(\n      Object.values(reviews),\n      coffee.id\n    );\n    const avgRating = avgRatingForCoffee(coffeeReviews);\n    return (\n      <Grid item xs={12}>\n        <CoffeeListItemCarousel\n          key={coffee.name}\n          coffee={coffee}\n          avgRating={avgRating}\n        />\n      </Grid>\n    );\n  });\n\n  if (type === \"favorite\") {\n    return (\n      <Carousel itemPadding={[30, 10]} breakPoints={breakPoints}>\n        {FavoritesCoffeeList}\n      </Carousel>\n    );\n  } else if (type === \"rating\") {\n    return (\n      <Carousel itemPadding={[30, 10]} breakPoints={breakPoints}>\n        {SlicedCoffeeList}\n      </Carousel>\n    );\n  }\n};\n\nexport default CoffeeCarousel;\n","import { React, useContext } from \"react\";\nimport classes from \"./editorPick.module.scss\";\nimport DataContext from \"../../contexts/DataContext.js\";\n\nexport default function EditorPick(props) {\n  const { userid, number, img, description } = props;\n  const { state } = useContext(DataContext);\n  const users = Object.values(state.users);\n  const coffees = Object.values(state.coffees);\n  const coffee = coffees[number - 1];\n  const user = users[userid - 1];\n\n  return (\n    <>\n      <div className={classes[\"editor-coffee-card\"]}>\n        <img\n          className={classes[\"editor-coffee-image\"]}\n          alt=\"coffee\"\n          src={coffee && coffee.image_url}\n        />\n        <div className={classes[\"imgover\"]}>\n          <a href={coffee && `/coffees/${coffee.id}`}>\n            <div className={classes[\"editor-details-section\"]}>\n              <h2 className={classes[\"coffee-details-brand\"]}>\n                {coffee && coffee.brand}\n              </h2>\n              <h2 className={classes[\"coffee-details-name\"]}>\n                {coffee && coffee.name}\n              </h2>\n              <p className={classes[\"coffee-details-paragraph\"]}>\n                {description}\n              </p>\n              <h2 className={classes[\"coffee-details-chosen\"]}>Chosen by:</h2>\n              <h2 className={classes[\"coffee-details-person\"]}>\n                {user && `${user.first_name} ${user.last_name}`}\n              </h2>\n              <div className={classes[\"editor-pic-container\"]}>\n                <img className={classes[\"editor-pic\"]} src={img} alt=\"avatar\" />\n              </div>\n            </div>\n          </a>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CoffeeCarousel from \"../home/Carousel/CoffeeCarousel.jsx\";\nimport EditorPick from \"../home/EditorsPicks\";\nimport Aos from \"aos\";\nimport \"aos/dist/aos.css\";\n\nconst kevinDescription = \"You won't want to miss out on this epic espresso.\";\n\nconst justinDescription = \"Keep it simple, like I always say!\";\n\nconst connieDescription =\n  \"Super versatile and quick to make. Enjoy it as  vietnamese coffee, or whip it with sugar to make dalgona coffee!\";\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontSize: \"4.0rem\",\n    margin: \"0px 20px 0px 20px \",\n  },\n  header: {\n    fontSize: \"2.5rem\",\n    margin: \"0 0.5em\",\n  },\n  subtitle: {\n    fontSize: \"1.5rem\",\n    margin: \"0 1rem\",\n  },\n  paragraph: {\n    fontSize: \"1.5rem\",\n    margin: \"0px 16px 0px 16px\",\n  },\n  titleContainer: {\n    margin: \"5rem 0rem 11rem 0rem\",\n  },\n}));\n\nconst TopPicks = (props) => {\n  useEffect(() => {\n    Aos.init({});\n  }, []);\n\n  const { homeCoffees } = props;\n  const classes = useStyles();\n\n  return (\n    <Grid container direction=\"row\">\n      <Grid item xs={false} sm={1} />\n      <Grid item xs={12} sm={10}>\n        <Grid\n          container\n          direction=\"column\"\n          style={{ margin: \"5rem 0rem 11rem 0rem\" }}\n        >\n          <Typography variant=\"h2\" className={classes.title}>\n            Caffa\n          </Typography>\n          <Typography variant=\"h4\" className={classes.paragraph}>\n            Great coffee is a simple joy. Finding the perfect one should be just\n            as simple.\n          </Typography>\n        </Grid>\n        <div data-aos=\"fade\" data-aos-once=\"true\">\n          <Grid container direction=\"column\">\n            <Typography variant=\"h2\" className={classes.header} gutterBottom>\n              Editor Picks\n            </Typography>\n            <Typography variant=\"h4\" className={classes.subtitle} gutterBottom>\n              What gets us up in the mornings.\n            </Typography>\n            <Grid container direction=\"row\">\n              <Grid\n                container\n                justify=\"center\"\n                xs={12}\n                sm={6}\n                lg={4}\n                style={{ paddingBottom: \"1em\", paddingTop: \"1em\" }}\n              >\n                <EditorPick\n                  userid={2}\n                  description={connieDescription}\n                  number={22}\n                  img=\"https://avatars.githubusercontent.com/u/66891817?v=4\"\n                />\n              </Grid>\n              <Grid\n                container\n                justify=\"center\"\n                xs={12}\n                sm={6}\n                lg={4}\n                style={{ paddingBottom: \"1em\", paddingTop: \"1em\" }}\n              >\n                <EditorPick\n                  userid={3}\n                  number={20}\n                  description={justinDescription}\n                  img=\"https://avatars.githubusercontent.com/u/73570663?v=4\"\n                />\n              </Grid>\n              <Grid\n                container\n                justify=\"center\"\n                xs={12}\n                sm={6}\n                lg={4}\n                style={{ paddingBottom: \"1em\", paddingTop: \"1em\" }}\n              >\n                <EditorPick\n                  userid={1}\n                  number={21}\n                  description={kevinDescription}\n                  img=\"https://avatars.githubusercontent.com/u/31554101?v=4\"\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n        <br></br>\n        <br></br>\n        <br></br>\n        <div data-aos=\"fade\" data-aos-once=\"true\">\n          <Typography variant=\"h2\" className={classes.header} gutterBottom>\n            Top Favorites\n          </Typography>\n          <Typography variant=\"h4\" className={classes.subtitle}>\n            Only the best of the best! Chosen by you.\n          </Typography>\n          <CoffeeCarousel homeCoffees={homeCoffees} type=\"favorite\">\n            {\" \"}\n          </CoffeeCarousel>\n        </div>\n        <br></br>\n        <br></br>\n        <br></br>\n        <div data-aos=\"fade\" data-aos-offset=\"650\" data-aos-once=\"true\">\n          <Typography variant=\"h2\" className={classes.header} gutterBottom>\n            Top Reviewed\n          </Typography>\n          <Typography variant=\"h4\" className={classes.subtitle}>\n            The latest and greatest! Hottest coffees of all time.\n          </Typography>\n          <CoffeeCarousel homeCoffees={homeCoffees} type=\"rating\">\n            {\" \"}\n          </CoffeeCarousel>\n        </div>\n      </Grid>\n      <Grid item xs={false} sm={1} />\n    </Grid>\n  );\n};\n\nexport default TopPicks;\n","export default __webpack_public_path__ + \"static/media/cafecropped.07360037.jpg\";","import { React } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport heroImage from \"../../images/cafecropped.jpg\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    width: \"100%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    zIndex: \"-1\",\n    objectFit: \"cover\",\n  },\n  imageContainer: {\n    display: \"flex\",\n    position: \"relative\",\n    flexDirection: \"column\",\n    backgroundSize: \"contain\",\n    backgroundRepeat: \"no-repeat\",\n    overflow: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"100px\",\n    },\n  },\n  image: {\n    objectFit: \"cover\",\n    width: \"100%\",\n    maxHeight: \"60vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"50vh\",\n    },\n  },\n  title: {\n    fontSize: \"4rem\",\n\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"inline-block\",\n      position: \"absolute\",\n      margin: \"10,10\",\n      color: \"Black\",\n      height: \"0\",\n      zIndex: 1,\n    },\n  },\n  subtitle: {\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"inline-block\",\n      top: \"65%\",\n      color: \"Black\",\n      textAlign: \"center\",\n      fontSize: \"30px\",\n    },\n  },\n}));\n\nexport default function HeroComponent() {\n  const classes = useStyles();\n\n  return (\n    <Grid item xs={12} container className={classes.imageContainer}>\n      <img src={heroImage} className={classes.image} alt=\"cafe\" />\n      <Grid item></Grid>\n    </Grid>\n  );\n}\n<Grid item xs={12}></Grid>;\n","import { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport CoffeeListItem from \"./coffees/CoffeeListItem.jsx\";\nimport CoffeeList from \"./coffees/CoffeeList.jsx\";\nimport { Grid } from \"@material-ui/core\";\nimport TopPicks from \"./coffees/TopPicks.jsx\";\nimport HeroComponent from \"./home/HeroComponent.jsx\";\nimport axios from \"axios\";\n\nconst Home = (props) => {\n  const [homeCoffees, setHomeCoffees] = useState({});\n\n  useEffect(() => {\n    axios\n      .get(\"/api/coffees/popular\")\n      .then((res) => {\n        setHomeCoffees(res.data);\n      })\n      .catch((err) => {\n        console.error(err.message);\n      });\n  }, []);\n\n  return (\n    <>\n      <Route path=\"/coffees/:id\">\n        <CoffeeListItem />\n      </Route>\n      <Route path=\"/coffees\">\n        <CoffeeList />\n      </Route>\n\n      <Route path=\"/\">\n        <Grid container direction=\"column\">\n          <HeroComponent />\n          <Grid item xs={12}></Grid>\n          <TopPicks homeCoffees={homeCoffees} setHomeCoffees={setHomeCoffees} />\n        </Grid>\n      </Route>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  title: {\n    fontSize: \"1px\",\n  },\n  form: {\n    margin: \"0\",\n  },\n  imageLabel: {\n    color: \"#000000\",\n    fontSize: \"1em\",\n  },\n  dialogAction: {\n    justifyContent: \"center\",\n  },\n  image: {\n    width: \"400px !important\",\n    height: \"400px !important\",\n    objectFit: \"contain !important\",\n    display: \"flex\",\n    paddingTop: \"1em\",\n    paddingBottom: \"1em\",\n  },\n}));\n\nexport default function CoffeeModal(props) {\n  const classes = useStyles();\n  const { open, setOpen, url, addCoffee } = props;\n  const [formState, setFormState] = useState({\n    name: \"\",\n    description: \"\",\n    region: \"\",\n    roast: \"\",\n    brand: \"\",\n    acidity: \"\",\n    grain_species: \"\",\n    image_url: url,\n  });\n\n  let history = useHistory();\n\n  const [errors, setErrors] = useState({});\n\n  const validate = () => {\n    let temp = {};\n    temp.name = formState.name ? \"\" : \"This field is required\";\n    temp.description = formState.description ? \"\" : \"This field is required\";\n    temp.region = formState.region ? \"\" : \"This field is required\";\n    temp.roast = formState.roast ? \"\" : \"This field is required\";\n    temp.brand = formState.brand ? \"\" : \"This field is required\";\n    temp.acidity = formState.acidity ? \"\" : \"This field is required\";\n    temp.grain_species = formState.grain_species\n      ? \"\"\n      : \"This field is required\";\n    setErrors({ ...temp });\n\n    return Object.values(temp).every((x) => x === \"\");\n  };\n\n  const handleClose = () => {\n    setFormState({\n      name: \"\",\n      description: \"\",\n      region: \"\",\n      roast: \"\",\n      brand: \"\",\n      acidity: \"\",\n      grain_species: \"\",\n    });\n    setErrors({});\n    setOpen(false);\n  };\n\n  const handleChange = (event) => {\n    setFormState({ ...formState, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (validate()) {\n      addCoffee(formState).then((data) => {\n        history.push(`/coffees/${data}`);\n      });\n    }\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"sm\"\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle className={classes.title} id=\"form-dialog-title\">\n        Add Your Coffee\n      </DialogTitle>\n      <form\n        className={classes.form}\n        noValidate\n        autoComplete=\"off\"\n        onSubmit={handleSubmit}\n      >\n        <DialogContent maxWidth=\"sm\" fullWidth>\n          <DialogContentText>\n            Please fill in the fields below to add your coffee.\n          </DialogContentText>\n          <Grid container direction={\"column\"} spacing={4}>\n            <Grid item>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Name\"\n                type=\"name\"\n                name=\"name\"\n                fullWidth\n                value={formState.name || \"\"}\n                onChange={handleChange}\n                required\n                {...(errors.name && { error: true, helperText: errors.name })}\n              />\n            </Grid>\n            <Grid item>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"brand\"\n                label=\"Brand\"\n                type=\"brand\"\n                name=\"brand\"\n                fullWidth\n                value={formState.brand || \"\"}\n                onChange={handleChange}\n                required\n                {...(errors.brand && { error: true, helperText: errors.brand })}\n              />\n            </Grid>\n            <Grid item>\n              <TextField\n                id=\"outlined-multiline-static\"\n                label=\"Description\"\n                multiline\n                rows={4}\n                variant=\"outlined\"\n                fullWidth\n                name=\"description\"\n                value={formState.description || \"\"}\n                onChange={handleChange}\n                required\n                {...(errors.description && {\n                  error: true,\n                  helperText: errors.description,\n                })}\n              />\n            </Grid>\n            <Grid item>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"region\"\n                label=\"Region\"\n                type=\"region\"\n                name=\"region\"\n                value={formState.region || \"\"}\n                onChange={handleChange}\n                fullWidth\n                required\n                {...(errors.region && {\n                  error: true,\n                  helperText: errors.region,\n                })}\n              />\n            </Grid>\n            <Grid item>\n              <FormControl fullWidth>\n                <InputLabel id=\"roast-label\">Roast</InputLabel>\n                <Select\n                  labelId=\"roast-label\"\n                  id=\"roast\"\n                  value={formState.roast || \"\"}\n                  name=\"roast\"\n                  onChange={handleChange}\n                  fullWidth\n                  required\n                  {...(errors.roast && {\n                    error: true,\n                    helperText: errors.roast,\n                  })}\n                >\n                  <MenuItem value={\"Light\"}>Light</MenuItem>\n                  <MenuItem value={\"Medium\"}>Medium</MenuItem>\n                  <MenuItem value={\"Dark\"}>Dark</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item>\n              <FormControl fullWidth>\n                <InputLabel id=\"acidity-label\">Acidity</InputLabel>\n                <Select\n                  labelId=\"acidity-label\"\n                  id=\"acidity\"\n                  value={formState.acidity || \"\"}\n                  name=\"acidity\"\n                  onChange={handleChange}\n                  fullWidth\n                  required\n                  {...(errors.acidity && {\n                    error: true,\n                    helperText: errors.acidity,\n                  })}\n                >\n                  <MenuItem value={\"Low\"}>Low</MenuItem>\n                  <MenuItem value={\"Low-Medium\"}>Low-Medium</MenuItem>\n                  <MenuItem value={\"Medium\"}>Medium</MenuItem>\n                  <MenuItem value={\"Medium-High\"}>Medium-High</MenuItem>\n                  <MenuItem value={\"High\"}>High</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item>\n              <FormControl fullWidth>\n                <InputLabel id=\"grain-species-label\">Grain Species</InputLabel>\n                <Select\n                  labelId=\"grain-species-label\"\n                  id=\"grain-species\"\n                  value={formState.grain_species || \"\"}\n                  name=\"grain_species\"\n                  onChange={handleChange}\n                  fullWidth\n                  required\n                  {...(errors.grain_species && {\n                    error: true,\n                    helperText: errors.grain_species,\n                  })}\n                >\n                  <MenuItem value={\"Arabica\"}>Arabica</MenuItem>\n                  <MenuItem value={\"Robusta\"}>Robusta</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid container justify=\"center\" alignItems=\"center\">\n              <br></br>\n              <img className={classes.image} src={url} alt=\"coffee\" />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions className={classes.dialogAction}>\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleClose}>\n            Cancel\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            type=\"submit\"\n            style={{ margin: \"0.5em\" }}\n          >\n            Add\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n}\n","import { React, useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport CoffeeModal from \"./AddCoffeeModal\";\nimport UserContext from \"../../contexts/UserContext\";\n\nexport default function AddCoffeeButton(props) {\n  const { url, addCoffee } = props;\n  const { user, setOpenLogin } = useContext(UserContext);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const handleModalOpen = () => {\n    if (!user) {\n      setOpenLogin((prev) => true);\n      return;\n    }\n    setModalOpen(true);\n  };\n\n  const renderModal = (\n    <CoffeeModal\n      open={modalOpen}\n      setOpen={setModalOpen}\n      url={url}\n      addCoffee={addCoffee}\n    />\n  );\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n    button: {\n      paddingLeft: \"15px\",\n      margin: \"1em 1em\",\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        disableRipple\n        size=\"medium\"\n        style={{ fontSize: \"1.25em\" }}\n        className={classes.button}\n        onClick={handleModalOpen}\n      >\n        Can't find your coffee? click here to add it.{\" \"}\n      </Button>\n      {renderModal}\n    </>\n  );\n}\n","import { React, useContext, useEffect, useState } from \"react\";\nimport Fuse from \"fuse.js\";\nimport {\n  getReviewsForCoffee,\n  avgRatingForCoffee,\n} from \"../../helpers/selectors\";\nimport CoffeeListItem from \"../coffees/CoffeeListItem\";\nimport { stripSearchTerms } from \"./helpers.js\";\nimport DataContext from \"../../contexts/DataContext\";\nimport AddCoffeeButton from \"../add-coffee/AddCoffeeButton\";\nimport { Grid } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  header: {\n    padding: \"1em\",\n    paddingLeft: \"15px\",\n    fontSize: \"2.5em\",\n  },\n});\n\nexport default function SearchList(props) {\n  const { state } = useContext(DataContext);\n  const coffees = Object.values(state.coffees);\n  const reviews = state.reviews;\n  const { addCoffee, results } = props;\n  const [storedUrl, setStoredURL] = useState(\"\");\n  const [storedArray, setStoredArray] = useState([]);\n  const classes = useStyles();\n\n  useEffect(() => {\n    setStoredURL(localStorage.getItem(\"url\") || \"\");\n    setStoredArray(localStorage.getItem(\"textarray\") || []);\n  }, [results.url]);\n\n  const options = {\n    isCaseSensitive: false,\n    includeScore: true,\n    shouldSort: true,\n    includeMatches: false,\n    findAllMatches: false,\n    minMatchCharLength: 1,\n    location: 0,\n    threshold: 0.7,\n    distance: 100,\n    useExtendedSearch: false,\n    ignoreLocation: false,\n    ignoreFieldNorm: false,\n    keys: [\"name\", \"brand\"],\n  };\n\n  const fuse = new Fuse(coffees, options);\n\n  const searchResult = () => {\n    let searchTerm = \"\";\n    if (storedArray) {\n      searchTerm = storedArray.toString();\n    }\n\n    if (searchTerm !== \"error\") {\n      const string = stripSearchTerms(searchTerm);\n\n      const Results = fuse.search(string, { limit: 5 });\n\n      if (Results.length !== 0) {\n        return Results.map((coffee) => {\n          const coffeeReviews = getReviewsForCoffee(\n            Object.values(reviews),\n            coffee.item.id\n          );\n          const avgRating = avgRatingForCoffee(coffeeReviews);\n          return (\n            <Grid item xs={12} sm={4} lg={3}>\n              <CoffeeListItem\n                key={coffee.item.id}\n                coffee={coffee.item}\n                avgRating={avgRating}\n              />\n            </Grid>\n          );\n        });\n      }\n      return (\n        <>\n          <Grid item xs={12}>\n            <Typography\n              variant=\"body2\"\n              style={{ fontSize: \"2em\", padding: \"0.5em\" }}\n            >\n              There were no matches!\n            </Typography>\n          </Grid>\n        </>\n      );\n    }\n    return (\n      <Grid item xs={12}>\n        <Typography variant=\"body2\" style={{ fontSize: \"2em\" }}>\n          There was an error in image search. Your image may not have been\n          detected as a coffee bean bag.\n        </Typography>\n      </Grid>\n    );\n  };\n\n  return (\n    <Grid container direction=\"row\">\n      <Grid item xs={false} sm={1} />\n      <Grid item xs={12} sm={10}>\n        <Typography variant=\"h2\" className={classes.header}>\n          Your search results\n        </Typography>\n        <Grid container spacing=\"5\">\n          {searchResult()}\n        </Grid>\n        <br></br>\n        {storedUrl && <AddCoffeeButton url={storedUrl} addCoffee={addCoffee} />}\n      </Grid>\n      <Grid item xs={false} sm={1} />\n    </Grid>\n  );\n}\n","import React from \"react\";\n\nexport default React.createContext();\n","import { useState, useContext, useEffect } from \"react\";\n\nimport FavouriteContext from \"../../contexts/FavouriteContext\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { calcFavourites } from \"../../helpers/selectors\";\n\nimport bean from \"../../images/31080.png\";\nimport classes from \"./Coffee.module.scss\";\n\nexport default function Details(props) {\n  const { coffee, reviews, favourites, isLiked } = props;\n\n  // user logic\n  const { user, setOpenLogin } = useContext(UserContext);\n  const userId = user ? user.id : null;\n\n  // add/delete favourites logic\n  const { addFavourite, deleteFavourite } = useContext(FavouriteContext);\n\n  const [fav, setFav] = useState(isLiked(favourites, userId));\n\n  useEffect(() => {\n    setFav((prev) => isLiked(favourites, userId));\n  }, [favourites, userId, isLiked]);\n\n  const numFav = calcFavourites(favourites);\n\n  const onClickHandler = (e) => {\n    e.preventDefault();\n\n    if (!user) {\n      setOpenLogin((prev) => true);\n      return;\n    }\n\n    if (fav) {\n      deleteFavourite(fav);\n      setFav((prev) => false);\n    } else {\n      addFavourite(coffee.id, user.id).then((res) => {\n        setFav((prev) => res);\n      });\n    }\n\n    return false;\n  };\n\n  return (\n    <>\n      <div className={classes[\"coffee-details-wrapper\"]}>\n        <div className={classes[\"coffee-details-section\"]}>\n          <img\n            src={coffee.image_url}\n            alt={`${coffee.name}`}\n            className={classes[\"coffee-details-img\"]}\n          />\n          <div>\n            <h2 className={classes[\"coffee-details-brand\"]}>{coffee.brand}</h2>\n            <h1 className={classes[\"coffee-details-name\"]}>{coffee.name}</h1>\n            <div className={classes[\"coffee-details-region\"]}>\n              <LocationOnIcon />\n              <h3>{coffee.region}</h3>\n            </div>\n            {!coffee.avg_rating && \"No Reviews Yet!\"}\n            {coffee.avg_rating && (\n              <>\n                <div className={classes[\"coffee-details-rating\"]}>\n                  <h1>{coffee.avg_rating} </h1>\n                  <div>\n                    <img\n                      src={bean}\n                      style={{ height: \"15px\", width: \"15px\" }}\n                      alt=\"bean\"\n                    />\n                    <p>\n                      {reviews.length}{\" \"}\n                      {reviews.length === 1 ? \"Rating\" : \"Ratings\"}{\" \"}\n                    </p>\n                  </div>\n                </div>\n              </>\n            )}\n            <p className={classes[\"coffee-details-description\"]}>\n              {coffee.description}\n            </p>\n            <div>\n              <IconButton\n                type=\"submit\"\n                aria-label=\"delete\"\n                onClick={onClickHandler}\n              >\n                {fav && (\n                  <FavoriteIcon className={classes[\"coffee-like-icon\"]} />\n                )}\n                {!fav && (\n                  <FavoriteBorderIcon\n                    className={classes[\"coffee-unlike-icon\"]}\n                  />\n                )}\n              </IconButton>\n              {numFav} {numFav === 1 ? \"like\" : \"likes\"}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={classes[\"coffee-characteristic-section\"]}>\n        <div className={classes[\"characteristic\"]}>\n          <p>Roast</p>\n          <FontAwesomeIcon className={classes.icon} icon=\"fire\" />\n          {coffee.roast}\n        </div>\n        <div className={classes[\"characteristic\"]}>\n          <p>Acidity</p>\n          <FontAwesomeIcon className={classes[\"icon\"]} icon=\"flask\" />\n          {coffee.acidity}\n        </div>\n        <div className={classes[\"characteristic\"]}>\n          <p>Grain</p>\n          <FontAwesomeIcon className={classes[\"icon\"]} icon=\"dna\" />\n          {coffee.grain_species}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  GoogleMap,\n  LoadScript,\n  Marker,\n  InfoWindow,\n} from \"@react-google-maps/api\";\nimport classes from \"./Coffee.module.scss\";\n\nfunction MapContainer(props) {\n  const { name, latitude, longitude, distance } = props;\n\n  const locations = [\n    {\n      name: name,\n      location: {\n        lat: latitude,\n        lng: longitude,\n      },\n      distance: distance,\n    },\n  ];\n\n  const mapStyles = {\n    width: \"100%\",\n    flex: 1,\n  };\n\n  const defaultCenter = {\n    lat: latitude,\n    lng: longitude,\n  };\n\n  const [selected, setSelected] = useState({});\n\n  const onSelect = (item) => {\n    setSelected(item);\n  };\n\n  return (\n    <LoadScript googleMapsApiKey={process.env.REACT_APP_GOOGLE_API_KEY}>\n      <GoogleMap mapContainerStyle={mapStyles} zoom={13} center={defaultCenter}>\n        {locations.map((item) => {\n          return (\n            <Marker\n              key={item.name}\n              position={item.location}\n              onClick={() => onSelect(item)}\n            />\n          );\n        })}\n        {selected.location && (\n          <InfoWindow\n            position={selected.location}\n            clickable={true}\n            onCloseClick={() => setSelected({})}\n          >\n            <p className={classes[\"map-info\"]}>\n              {selected.name} is {selected.distance} km away from you!{\" \"}\n            </p>\n          </InfoWindow>\n        )}\n      </GoogleMap>\n    </LoadScript>\n  );\n}\n\nexport default MapContainer;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport Link from \"@material-ui/core/Link\";\nimport MapContainer from \"./MapContainer\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport bean from \"../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    paddingTop: 0,\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      margin: \"0 auto\",\n    },\n  },\n  root: {\n    backgroundColor: theme.palette.background.secondary,\n    flex: 1,\n    minWidth: \"40%\",\n    padding: \"1.5em\",\n    marginRight: \"1em\",\n    borderTop: \"1px solid rgb(238,238,238)\",\n    borderRadius: \"1em\",\n  },\n  media: {\n    height: 300,\n  },\n  img: {\n    padding: 0,\n    margin: 0,\n  },\n  loading: {\n    margin: \"2rem auto\",\n  },\n}));\n\nfunction Cafe(props) {\n  const { coffee, cafeData, setCafeData } = props;\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getCafeData = async () => {\n      const query = coffee.brand.toLowerCase().split(\" \").join(\"+\");\n      const cafeDetails = await axios.get(`/api/cafes/?brand=${query}`);\n      setCafeData((prev) => cafeDetails.data);\n      setLoading(false);\n    };\n\n    getCafeData();\n  }, [coffee, setCafeData]);\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.section}>\n      {loading && (\n        <div className={classes.loading}>\n          <CircularProgress color=\"primary\" style={{ position: \"center\" }} />\n        </div>\n      )}\n      {cafeData && (\n        <>\n          <Card className={classes.root}>\n            <CardMedia\n              classes={{\n                img: classes.img,\n                root: classes.media,\n              }}\n              image={cafeData.image_url}\n              title={cafeData.name}\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                {cafeData.name}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                Rating: {cafeData.rating}{\" \"}\n                <img\n                  src={bean}\n                  style={{ height: \"15px\", width: \"15px\" }}\n                  alt=\"bean\"\n                />\n              </Typography>\n              <Link href={cafeData.url}>See More Details On Yelp</Link>\n            </CardContent>\n          </Card>\n          <MapContainer\n            className={classes.map}\n            name={cafeData.name}\n            latitude={cafeData.coordinates.latitude}\n            longitude={cafeData.coordinates.longitude}\n            distance={Math.round((cafeData.distance / 1000) * 10) / 10}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Cafe;\n","import React from \"react\";\n\nexport default React.createContext();\n","import React, { useContext } from \"react\";\nimport ReviewContext from \"../../contexts/ReviewContext\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function DeleteReview(props) {\n  const { open, handleClose, id } = props;\n  const { deleteReview } = useContext(ReviewContext);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    deleteReview(id);\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Are you sure you want to delete this review?\"}\n        </DialogTitle>\n        <DialogActions>\n          <Button variant=\"outlined\" onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={submitHandler}\n            color=\"primary\"\n            autoFocus\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport classes from \"./Coffee.module.scss\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.primary.main,\n    justifySelf: \"center\",\n  },\n}));\n\nexport default function Stars(props) {\n  const styles = useStyles();\n  const { handleStarClick, rating, setRating } = props;\n  const [hover, setHover] = useState(rating);\n\n  return (\n    <div className={classes[\"coffee-review-stars\"]}>\n      <Rating\n        className={styles.root}\n        name=\"size-large\"\n        size=\"large\"\n        value={rating}\n        precision={0.5}\n        onChange={(event, newRating) => {\n          setRating((prev) => newRating);\n        }}\n        onChangeActive={(event, newHover) => {\n          setHover((prev) => newHover);\n        }}\n        onClick={handleStarClick}\n      />\n      {/* {value !== null && <Box ml={2}>{hover !== -1 ? hover : null}</Box>} */}\n    </div>\n  );\n}\n","import Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Stars from \"./Stars\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    padding: \"1em\",\n    margin: \"auto 0\",\n    border: \"0px solid\",\n    borderRadius: \"1rem\",\n    minWidth: \"500px\",\n    minHeight: \"350px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"0\",\n      width: \"90%\",\n    },\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function ReviewForm(props) {\n  const classes = useStyles();\n\n  const {\n    coffee,\n    rating,\n    setRating,\n    openReviewForm,\n    description,\n    setDescription,\n    handleStarClick,\n    handleCloseReviewForm,\n    handleSubmitReviewForm,\n  } = props;\n\n  return (\n    <div>\n      <Dialog\n        classes={{ paper: classes.paper }}\n        open={openReviewForm}\n        onClose={handleCloseReviewForm}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          You're rating {coffee.name} by {coffee.brand}\n        </DialogTitle>\n        <DialogContent classes={{ root: classes.content }}>\n          <Stars\n            rating={rating}\n            setRating={setRating}\n            handleStarClick={handleStarClick}\n          />\n          <TextField\n            multiline={true}\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            autoFocus\n            id=\"description\"\n            name=\"description\"\n            label=\"Say a few words about this coffee\"\n            type=\"email\"\n            value={description}\n            onInput={(e) => setDescription(e.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            variant=\"outlined\"\n            onClick={handleCloseReviewForm}\n            color=\"primary\"\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"outlined\"\n            onClick={handleSubmitReviewForm}\n            color=\"primary\"\n          >\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport ReviewForm from \"./ReviewForm\";\nimport ReviewContext from \"../../contexts/ReviewContext\";\n\nexport default function EditReview(props) {\n  const {\n    openReviewForm,\n    setOpenReviewForm,\n    handleCloseReviewForm,\n    handleClickOpenReviewForm,\n    coffee,\n    review,\n  } = props;\n\n  const { editReview } = useContext(ReviewContext);\n  const [description, setDescription] = useState(review.description);\n  const [rating, setRating] = useState(review.rating);\n\n  const handleEditReview = (e) => {\n    e.preventDefault();\n    editReview({\n      id: review.id,\n      description,\n      rating,\n    }).then(() => {\n      handleCloseReviewForm();\n    });\n  };\n\n  return (\n    <div>\n      <ReviewForm\n        coffee={coffee}\n        rating={rating}\n        setRating={setRating}\n        openReviewForm={openReviewForm}\n        setOpenReviewForm={setOpenReviewForm}\n        description={description}\n        setDescription={setDescription}\n        handleClickOpenReviewForm={handleClickOpenReviewForm}\n        handleCloseReviewForm={handleCloseReviewForm}\n        handleSubmitReviewForm={handleEditReview}\n      />\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport DeleteReview from \"./DeleteReview\";\nimport EditReview from \"./EditReview\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport bean from \"../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    padding: \"1em\",\n    maxWidth: \"800px\",\n    border: \"0px solid\",\n    borderRadius: \"1rem\",\n    fontSize: \"1.25em\",\n    marginBottom: \"1em\",\n    backgroundColor: theme.palette.background.secondary,\n    \"&:hover\": {\n      transform: \"scale3d(1.05, 1.05, 1)\",\n      background: \"#e0d4a7\",\n    },\n  },\n  image: {\n    width: \"2em\",\n    height: \"2em\",\n    border: \"0px solid\",\n    borderRadius: \"50%\",\n    marginRight: \"0.75em\",\n  },\n  userInfo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: \"0.5em\",\n    fontWeight: 600,\n  },\n  rating: {\n    background: theme.palette.primary.main,\n    border: \"1px solid #FCE4A2\",\n    borderRadius: \"0.5em\",\n    padding: \"0.2em 0.5em\",\n    marginRight: \"1em\",\n  },\n  bean: {\n    marginLeft: \"1em\",\n  },\n  button: {\n    marginRight: \"1em\",\n  },\n  description: {\n    marginTop: \"0.5em\",\n    wordWrap: \"break-word\",\n  },\n}));\n\nexport default function ReviewListItem(props) {\n  const classes = useStyles();\n  const { review, reviewUser, coffee } = props;\n\n  // formatting date\n  const dateArr = new Date(review.created_at).toDateString().split(\" \");\n  const date = `${dateArr[1]} ${dateArr[2]}, ${dateArr[3]}`;\n\n  const { user } = useContext(UserContext);\n\n  // define edit and delete functionality\n  const [openDelete, setOpenDelete] = useState(false);\n  const [openReviewForm, setOpenReviewForm] = useState(false);\n\n  const handleClickOpenDelete = () => {\n    setOpenDelete(true);\n  };\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false);\n  };\n\n  const handleClickOpenReviewForm = () => {\n    setOpenReviewForm(true);\n  };\n\n  const handleCloseReviewForm = () => {\n    setOpenReviewForm(false);\n  };\n\n  return (\n    <>\n      <Card className={classes.root}>\n        <CardContent>\n          <span className={classes.rating}>\n            {review.rating}\n            <img\n              src={bean}\n              alt=\"bean\"\n              style={{ height: \"15px\", width: \"15px\", marginLeft: \"0.1em\" }}\n            />\n          </span>\n          <div className={classes.description}>{review.description}</div>\n          <div className={classes.userInfo}>\n            <img\n              src={reviewUser.avatar_url}\n              alt={reviewUser.first_name}\n              className={classes.image}\n            />\n            <div>\n              {reviewUser.first_name} {reviewUser.last_name}\n            </div>\n          </div>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {date}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          {user && user.id === review.user_id ? (\n            <div>\n              <Button\n                className={classes.button}\n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={handleClickOpenReviewForm}\n              >\n                Edit\n              </Button>\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={handleClickOpenDelete}\n              >\n                Delete\n              </Button>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </CardActions>\n      </Card>\n      <DeleteReview\n        id={review.id}\n        open={openDelete}\n        handleClose={handleCloseDelete}\n        handleClickOpen={handleClickOpenDelete}\n      />\n      <EditReview\n        coffee={coffee}\n        review={review}\n        openReviewForm={openReviewForm}\n        setOpenReviewForm={setOpenReviewForm}\n        handleCloseReviewForm={handleCloseReviewForm}\n        handleClickOpenReviewForm={handleClickOpenReviewForm}\n      />\n    </>\n  );\n}\n","import { useContext } from \"react\";\nimport ReviewListItem from \"./ReviewListItem\";\nimport DataContext from \"../../contexts/DataContext\";\nimport { getReviewsForCoffee } from \"../../helpers/selectors\";\n\nimport classes from \"./Coffee.module.scss\";\n\nfunction ReviewList(props) {\n  const { coffee } = props;\n  const { state } = useContext(DataContext);\n  const reviews = state.reviews;\n  const users = state.users;\n  const coffeeReviews = getReviewsForCoffee(\n    Object.values(reviews),\n    coffee.id\n  ).sort((a, b) => {\n    return new Date(b.created_at) - new Date(a.created_at);\n  });\n\n  // const [showMore, setShowMore] = useState(false);\n\n  // const handleShowMore = () => {\n  //   setShowMore(ture)\n  // }\n\n  // Create Review List Item\n  const reviewList = coffeeReviews.map((review) => {\n    return (\n      <ReviewListItem\n        key={review.id}\n        review={review}\n        reviewUser={users[review.user_id]}\n        coffee={coffee}\n      />\n    );\n  });\n\n  return (\n    <div className={classes[\"coffee-review-list\"]}>\n      {reviewList}\n      {!coffeeReviews.length && (\n        <p className={classes[\"no-reviews\"]} A>\n          Be the first one to leave a review!\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default ReviewList;\n","import React, { useState, useContext } from \"react\";\nimport ReviewForm from \"./ReviewForm\";\nimport Stars from \"./Stars\";\nimport ReviewContext from \"../../contexts/ReviewContext\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\n// import classes from './Coffee.module.scss';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 200,\n    padding: \"2em\",\n    flex: 1,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    border: \"0px solid\",\n    borderRadius: \"1rem\",\n    backgroundColor: theme.palette.background.secondary,\n    \"&:hover\": {\n      transform: \"scale3d(1.05, 1.05, 1)\",\n      background: \"#e0d4a7\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: \"0 0 1em 0\",\n    },\n  },\n}));\n\nexport default function AddReview(props) {\n  const { coffee, openReviewForm, setOpenReviewForm } = props;\n\n  const [rating, setRating] = useState(0);\n  const [description, setDescription] = useState(\"\");\n  const { addReview } = useContext(ReviewContext);\n\n  // user logic\n  const { user, setOpenLogin } = useContext(UserContext);\n\n  const handleClickOpenReviewForm = () => {\n    if (!user) {\n      setOpenLogin((prev) => true);\n      return;\n    }\n\n    if (openReviewForm) {\n      setRating((prev) => rating);\n    } else {\n      setOpenReviewForm(true);\n    }\n  };\n\n  const handleCloseReviewForm = () => {\n    setOpenReviewForm(false);\n    setRating(0);\n  };\n\n  const handleAddReview = () => {\n    addReview({\n      rating,\n      description,\n      user_id: user.id,\n      coffee_id: coffee.id,\n    }).then(() => {\n      handleCloseReviewForm();\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root}>\n      <CardContent>\n        <h3>How did you like this Coffee?</h3>\n        <Stars\n          rating={rating}\n          setRating={setRating}\n          handleStarClick={handleClickOpenReviewForm}\n        />\n        <ReviewForm\n          coffee={coffee}\n          rating={rating}\n          setRating={setRating}\n          openReviewForm={openReviewForm}\n          setOpenReviewForm={setOpenReviewForm}\n          description={description}\n          setDescription={setDescription}\n          handleClickOpenReviewForm={handleClickOpenReviewForm}\n          handleCloseReviewForm={handleCloseReviewForm}\n          handleSubmitReviewForm={handleAddReview}\n          handStarClick={setRating}\n        />\n      </CardContent>\n    </Card>\n  );\n}\n","import { useParams } from \"react-router-dom\";\nimport { useContext, useState, useEffect } from \"react\";\nimport DataContext from \"../../contexts/DataContext\";\nimport UserContext from \"../../contexts/UserContext\";\nimport Details from \"./Details\";\nimport Cafe from \"./Cafe\";\nimport ReviewList from \"./ReviewList\";\nimport AddReview from \"./AddReview\";\nimport {\n  getReviewsForCoffee,\n  getFavouritesForCoffee,\n  isLiked,\n  isReviewed,\n} from \"../../helpers/selectors\";\nimport classes from \"./Coffee.module.scss\";\n\nexport default function Coffee(props) {\n  const params = useParams();\n  const coffeeId = Number(params.id);\n  const { addFavourite, deleteFavourite } = props;\n\n  // get all data\n  const { state } = useContext(DataContext);\n\n  const coffees = state.coffees;\n  const reviews = state.reviews;\n  const favourites = state.favourites;\n\n  // filter for specific coffee details\n  const coffee = coffees[coffeeId];\n\n  // filter for coffee reviews & favourites\n  const [coffeeReviews, setCoffeeReviews] = useState(\n    getReviewsForCoffee(Object.values(reviews), coffeeId)\n  );\n  const coffeeFavourites = getFavouritesForCoffee(\n    Object.values(favourites),\n    coffeeId\n  );\n\n  // change state everytime a review is added or deleted\n  useEffect(() => {\n    setCoffeeReviews((prev) =>\n      getReviewsForCoffee(Object.values(reviews), coffeeId)\n    );\n  }, [reviews, coffeeId]);\n\n  // check if coffee is already reviewed by user\n  const { user } = useContext(UserContext);\n  const userId = user ? user.id : null;\n  const [reviewed, setReviewed] = useState(false);\n\n  useEffect(() => {\n    setReviewed((prev) => isReviewed(coffeeReviews, userId));\n  }, [coffeeReviews, userId]);\n\n  // review form logic\n  const [openReviewForm, setOpenReviewForm] = useState(false);\n\n  // cafe logic to be passed as props\n  const [cafeData, setCafeData] = useState(null);\n\n  return (\n    <div>\n      {coffee && (\n        <>\n          <Details\n            coffee={coffee}\n            reviews={coffeeReviews}\n            favourites={coffeeFavourites}\n            addFavourite={addFavourite}\n            deleteFavourite={deleteFavourite}\n            isLiked={isLiked}\n          />\n          <div className={classes[\"coffee-cafe-section\"]}>\n            <h1 className={classes[\"coffee-review-heading\"]}>\n              Featured Cafe for this Coffee\n            </h1>\n            <Cafe\n              cafeData={cafeData}\n              setCafeData={setCafeData}\n              coffee={coffee}\n            />\n          </div>\n          <div className={classes[\"coffee-review-wrapper\"]}>\n            <h1 className={classes[\"coffee-review-heading\"]}>\n              Community Reviews\n            </h1>\n            <div className={classes[\"coffee-review-section\"]}>\n              <ReviewList\n                coffeeId={coffeeId}\n                coffee={coffee}\n                openReviewForm={openReviewForm}\n                setOpenReviewForm={setOpenReviewForm}\n              />\n              {!reviewed && (\n                <AddReview\n                  coffee={coffee}\n                  openReviewForm={openReviewForm}\n                  setOpenReviewForm={setOpenReviewForm}\n                />\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: 0,\n    padding: \".25em 2em\",\n    width: 250,\n    \"&:hover\": {\n      backgroundColor: \"rgba(0, 0, 0, 0.04)\",\n    },\n  },\n}));\n\nexport default function SortListItem(props) {\n  const classes = useStyles();\n\n  const { name } = props;\n\n  return (\n    <FormControlLabel\n      className={classes.root}\n      value={name}\n      control={<Radio color=\"primary\" />}\n      label={name}\n    />\n  );\n}\n","import { useState } from \"react\";\nimport SortListItem from \"./SortListItem\";\n\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: \"0.5em\",\n    width: 250,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  subheader: {\n    fontSize: \"1.25rem\",\n    position: \"static\",\n  },\n}));\n\nexport default function SortList(props) {\n  const { sortOptions, handleSort } = props;\n\n  const classes = useStyles();\n\n  const [sortOption, setSortOption] = useState(\"Recommended\");\n\n  const handleChange = (event, sortOption) => {\n    handleSort(sortOption);\n    setSortOption(event.target.value);\n  };\n\n  const sortList = Object.keys(sortOptions).map((option) => {\n    return <SortListItem key={option} name={sortOptions[option]} />;\n  });\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      subheader={\n        <ListSubheader\n          component=\"div\"\n          id=\"nested-list-subheader\"\n          className={classes.subheader}\n        >\n          Sort By\n        </ListSubheader>\n      }\n      className={classes.root}\n    >\n      <FormControl component=\"fieldset\">\n        <RadioGroup\n          className={classes.radio}\n          aria-label=\"sorting\"\n          name=\"sorting1\"\n          value={sortOption}\n          onChange={handleChange}\n        >\n          {sortList}\n        </RadioGroup>\n      </FormControl>\n    </List>\n  );\n}\n","import { useState } from \"react\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nexport default function FilterListCategory(props) {\n  const { item, filters, setFilters, handleFilters, category } = props;\n\n  const [checked, setChecked] = useState(false);\n\n  const handleChange = (event, value) => {\n    const currIndex = filters[category].indexOf(value); //checks if filter is already applied\n    const newCategory = [...filters[category]]; // initalize new state\n\n    if (currIndex === -1) {\n      newCategory.push(value); // if not already in array, add\n    } else {\n      newCategory.splice(currIndex, 1); // remove if in the array\n    }\n\n    const newFilter = {\n      ...filters,\n      [category]: newCategory,\n    };\n\n    setFilters((prev) => newFilter);\n    setChecked(event.target.checked);\n    handleFilters(newFilter);\n  };\n\n  return (\n    <ListItem button>\n      <Checkbox\n        checked={checked}\n        onChange={(e) => {\n          handleChange(e, item.id);\n        }}\n        color=\"primary\"\n        inputProps={{ \"aria-label\": \"primary checkbox\" }}\n      />\n      <ListItemText primary={item.type} />\n    </ListItem>\n  );\n}\n","import React from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 500,\n    \"& > * + *\": {\n      marginTop: theme.spacing(3),\n    },\n    maxHeight: \"10rem\",\n    overflow: \"auto\",\n  },\n  textField: {\n    \"& .MuiChip-root\": {\n      backgroundColor: theme.palette.primary.main,\n      color: \"white\",\n    },\n    \"& .MuiSvgIcon-root\": {\n      color: \"white\",\n    },\n  },\n}));\n\nexport default function RegionSearch(props) {\n  const classes = useStyles();\n  const { filters, setFilters, handleFilters, regions } = props;\n  const category = \"region\";\n\n  const handleChange = (event, value) => {\n    const newCategory = [];\n    for (const val of value) {\n      newCategory.push(val.id);\n    }\n\n    const newFilter = {\n      ...filters,\n      [category]: newCategory,\n    };\n    setFilters((prev) => newFilter);\n    handleFilters(newFilter);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Autocomplete\n        multiple\n        id=\"tags-outlined\"\n        options={regions}\n        getOptionLabel={(option) => option.type}\n        getOptionSelected={(option, value) => option.type === value.type}\n        defaultValue={[]}\n        filterSelectedOptions={true}\n        onChange={(event, value) => handleChange(event, value)}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Regions\"\n            className={classes.textField}\n          />\n        )}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport FilterListCategoryItem from \"./FilterListCategoryItem\";\nimport RegionSearch from \"./RegionSearch\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\n\nexport default function FilterListCategory(props) {\n  const {\n    classes,\n    name,\n    items,\n    filters,\n    setFilters,\n    handleFilters,\n    category,\n  } = props;\n\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const categoryItems = items.map((item, i) => {\n    return (\n      <FilterListCategoryItem\n        key={item.id}\n        classes={classes}\n        item={item}\n        category={category}\n        filters={filters}\n        setFilters={setFilters}\n        handleFilters={handleFilters}\n      />\n    );\n  });\n\n  return (\n    <>\n      <ListItem button onClick={handleClick}>\n        <ListItemText primary={name} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          {name !== \"Region\" && categoryItems}\n          {name === \"Region\" && (\n            <ListItem button>\n              <RegionSearch\n                regions={Object.values(items)}\n                filters={filters}\n                setFilters={setFilters}\n                handleFilters={handleFilters}\n              />\n            </ListItem>\n          )}\n        </List>\n      </Collapse>\n    </>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport List from \"@material-ui/core/List\";\nimport FilterListCategory from \"./FilterListCategory\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 250,\n    height: \"100%\",\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  subheader: {\n    fontSize: \"1.25rem\",\n  },\n}));\n\nexport default function FilterList(props) {\n  const classes = useStyles();\n\n  const { categories, filters, setFilters, handleFilters } = props;\n\n  const categoryList = Object.keys(categories).map((cat, i) => {\n    return (\n      <FilterListCategory\n        key={i}\n        name={categories[cat].name}\n        category={cat}\n        classes={classes}\n        items={Object.values(categories[cat].items)}\n        filters={filters}\n        setFilters={setFilters}\n        handleFilters={handleFilters}\n      />\n    );\n  });\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      subheader={\n        <ListSubheader\n          className={classes.subheader}\n          component=\"div\"\n          id=\"nested-list-subheader\"\n        >\n          Filter By\n        </ListSubheader>\n      }\n      className={classes.root}\n    >\n      {categoryList}\n    </List>\n  );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport SortList from \"./SortList\";\nimport FilterList from \"./FilterList\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nconst drawerWidth = 250;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    position: \"fixed\",\n    left: 0,\n    height: \"2%\",\n    width: \"1%\",\n    transform: `translate(0px, 30vh)`,\n    display: \"flex\",\n    margin: \"1rem 0\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    fontSize: \"1rem\",\n    margin: \"0 auto\",\n    color: theme.palette.text.secondary,\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction SortFilterDrawer(props) {\n  const {\n    window,\n    sortOptions,\n    handleSort,\n    categories,\n    filters,\n    setFilters,\n    handleFilters,\n  } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <Divider />\n      <SortList sortOptions={sortOptions} handleSort={handleSort} />\n      <Divider />\n      <FilterList\n        categories={categories}\n        filters={filters}\n        setFilters={setFilters}\n        handleFilters={handleFilters}\n      />\n    </div>\n  );\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <div className={classes.appBar}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          edge=\"start\"\n          onClick={handleDrawerToggle}\n          className={classes.menuButton}\n        >\n          <ArrowForwardIosIcon />\n        </IconButton>\n      </div>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n    </div>\n  );\n}\n\nSortFilterDrawer.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window: PropTypes.func,\n};\n\nexport default SortFilterDrawer;\n","export default __webpack_public_path__ + \"static/media/CaffaInverted.19fcdcdd.png\";","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport headIcon from \"../images/CaffaInverted.png\";\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    marginTop: \"50px\",\n    marginBottom: \"0px\",\n    paddingTop: \"30px\",\n    paddingBottom: \"30px\",\n    backgroundColor: \"#252B2C\",\n    color: theme.palette.text.light,\n  },\n  footerContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: theme.palette.text.light,\n\n    [theme.breakpoints.up(\"lg\")]: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      alignContent: \"center\",\n    },\n  },\n}));\n\nexport default function Footer() {\n  const classes = useStyles();\n\n  return (\n    <Grid container direction=\"row\" justify=\"center\" className={classes.footer}>\n      <Grid container xs={12} sm={3} className={classes.footerContainer}>\n        <img src={headIcon} width=\"50\" height=\"50\" alt=\"caffa\" />\n        <Typography variant=\"caption\" color=\"inherit\">\n          © 2021\n        </Typography>\n      </Grid>\n      <Grid container xs={12} sm={3} className={classes.footerContainer}>\n        <Typography variant=\"body1\" color=\"inherit\">\n          Company\n        </Typography>\n        <Typography variant=\"caption\" color=\"inherit\">\n          About us\n        </Typography>\n      </Grid>\n      <Grid container xs={12} sm={3} className={classes.footerContainer}>\n        <Typography variant=\"body1\" color=\"inherit\">\n          Further Information\n        </Typography>\n        <Typography variant=\"caption\" color=\"inherit\">\n          Terms and conditions\n        </Typography>\n        <Typography variant=\"caption\" color=\"inherit\">\n          Private policy\n        </Typography>\n      </Grid>\n      <Grid container xs={12} sm={3} className={classes.footerContainer}>\n        <Typography variant=\"body1\" color=\"inherit\">\n          Follow us\n        </Typography>\n        <Grid>\n          <FacebookIcon />\n          <LinkedInIcon />\n          <InstagramIcon />\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport DataContext from \"../../contexts/DataContext\";\nimport Coffee from \"../coffee-id/Coffee\";\nimport CoffeeList from \"./CoffeeList\";\nimport SortFilterDrawer from \"./SortFilterDrawer\";\n\nimport Footer from \"../Footer\";\nimport {\n  formatRegions,\n  getFilteredCoffees,\n  hasSelectedFilters,\n} from \"../../helpers/selectors\";\n\n// styles\nimport classes from \"./Coffees.module.scss\";\n\nfunction Coffees(props) {\n  const { state } = useContext(DataContext);\n  const regions = Object.values(state.regions);\n  const coffees = Object.values(state.coffees);\n\n  // Define categories to filter for\n  const categories = {\n    grain_species: {\n      name: \"Grain Species\",\n      items: { 1: { id: 1, type: \"Arabica\" }, 2: { id: 2, type: \"Robusta\" } },\n    },\n    acidity: {\n      name: \"Acidity\",\n      items: {\n        3: { id: 3, type: \"Low\" },\n        4: { id: 4, type: \"Low-Medium\" },\n        5: { id: 5, type: \"Medium\" },\n        6: { id: 6, type: \"Medium-High\" },\n        7: { id: 7, type: \"High\" },\n      },\n    },\n    roast: {\n      name: \"Roast\",\n      items: {\n        8: { id: 8, type: \"Light\" },\n        9: { id: 9, type: \"Medium\" },\n        10: { id: 10, type: \"Dark\" },\n      },\n    },\n    region: {\n      name: \"Region\",\n      items: formatRegions(regions, 11),\n    },\n  };\n  // Define sorting choices\n  const sortOptions = {\n    1: \"Recommended\",\n    2: \"Name: A - Z\",\n    3: \"Name: Z - A\",\n    4: \"Rating: Low to High\",\n    5: \"Rating: High to Low\",\n  };\n\n  // FilterArray to apply to coffees\n  const [filters, setFilters] = useState({\n    region: [],\n    grain_species: [],\n    acidity: [],\n    roast: [],\n  });\n  const [filteredCoffees, setFilteredCoffees] = useState(coffees);\n  const [hasFilters, setHasFilters] = useState(hasSelectedFilters(filters));\n\n  useEffect(() => {\n    const newHasFilters = hasSelectedFilters(filters);\n    if (!newHasFilters) {\n      setFilteredCoffees((prev) => Object.values(state.coffees));\n    }\n    setHasFilters((prev) => newHasFilters);\n  }, [hasFilters, state.coffees, filters]);\n\n  const handleFilters = (filters) => {\n    // pass in a copy of the filters\n    const copyFilters = { ...filters };\n    const res = getFilteredCoffees(coffees, categories, copyFilters);\n    setFilteredCoffees((prev) => res);\n\n    // if there are no filters selected, display all\n    const newHasFilters = hasSelectedFilters(filters);\n    if (!newHasFilters) {\n      setFilteredCoffees((prev) => coffees);\n    }\n\n    setHasFilters((prev) => newHasFilters);\n  };\n\n  // sorts coffees by key\n  const handleSort = (sortOption) => {\n    if (!sortOption || !filteredCoffees.length) {\n      return;\n    }\n\n    const newFilteredCoffees = filteredCoffees.sort((a, b) => {\n      if (sortOption === \"Recommended\") {\n        return a.id - b.id;\n      }\n\n      if (sortOption === \"Name: A - Z\") {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        return 0;\n      }\n\n      if (sortOption === \"Name: Z - A\") {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return 1;\n        }\n\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      }\n\n      if (sortOption === \"Rating: Low to High\") {\n        return a.avg_rating - b.avg_rating;\n      }\n\n      if (sortOption === \"Rating: High to Low\") {\n        return b.avg_rating - a.avg_rating;\n      }\n\n      return a.id - b.id; //default\n    });\n\n    setFilteredCoffees((prev) => [...newFilteredCoffees]);\n  };\n\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/coffees/:id\">\n          <Coffee />\n          <Footer />\n        </Route>\n        <Route path=\"/coffees\">\n          <div className={classes[\"coffees-page\"]}>\n            <SortFilterDrawer\n              sortOptions={sortOptions}\n              handleSort={handleSort}\n              categories={categories}\n              filters={filters}\n              setFilters={setFilters}\n              handleFilters={handleFilters}\n            />\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                minHeight: \"90vh\",\n              }}\n            >\n              {!filteredCoffees.length && (\n                <p className={classes[\"no-results\"]}>\n                  There doesn't seem to be any results, try our image search\n                  instead!\n                </p>\n              )}\n              <CoffeeList coffees={filteredCoffees} />\n              <Footer />\n            </div>\n          </div>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default Coffees;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport ListItem from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport RateReviewIcon from \"@material-ui/icons/RateReview\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport List from \"@material-ui/core/List\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    position: \"fixed\",\n    left: 0,\n    height: \"2%\",\n    width: \"1%\",\n    transform: `translate(0px, 30vh)`,\n    display: \"flex\",\n    margin: \"1rem 0\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    fontSize: \"1rem\",\n    margin: \"0 auto\",\n    color: theme.palette.text.secondary,\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  listItem: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: \"0.5rem\",\n  },\n  icon: {\n    marginRight: \"0.5rem\",\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n    boxSizing: \"border-box\",\n    padding: \"1.5rem\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction AccountMenu(props) {\n  const { window } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <List>\n        <Link to=\"/account\">\n          <ListItem className={classes.listItem}>\n            <AccountCircleIcon className={classes.icon} />\n            <ListItemText primary={\"My Account\"} />\n          </ListItem>\n        </Link>\n\n        <Link to=\"/account/favourites\">\n          <ListItem className={classes.listItem}>\n            <FavoriteIcon className={classes.icon} />\n            <ListItemText primary={\"My Favourites\"} />\n          </ListItem>\n        </Link>\n\n        <Link to=\"/account/reviews\">\n          <ListItem className={classes.listItem}>\n            <RateReviewIcon className={classes.icon} />\n            <ListItemText primary={\"My Reviews\"} />\n          </ListItem>\n        </Link>\n\n        <Link to=\"/account/settings\">\n          <ListItem className={classes.listItem}>\n            <SettingsIcon className={classes.icon} />\n            <ListItemText primary={\"My Settings\"} />\n          </ListItem>\n        </Link>\n      </List>\n    </div>\n  );\n\n  const container =\n    window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <div className={classes.appBar}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          edge=\"start\"\n          onClick={handleDrawerToggle}\n          className={classes.menuButton}\n        >\n          <ArrowForwardIosIcon />\n        </IconButton>\n      </div>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n    </div>\n  );\n}\n\nAccountMenu.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window: PropTypes.func,\n};\n\nexport default AccountMenu;\n","import { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  TextField,\n  CardActions,\n} from \"@material-ui/core\";\n\nconst AccountSettings = (props) => {\n  const { editUserHandler } = props;\n  const { classes } = props;\n  const { user } = useContext(UserContext);\n  const [values, setValues] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    avatar_url: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n      avatar_url: user ? user.avatar_url : \"\",\n    }));\n  }, [user]);\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    editUserHandler(values.first_name, values.last_name, values.email);\n  };\n\n  return (\n    <form autoComplete=\"off\" noValidate {...props} onSubmit={handleSubmit}>\n      <Card>\n        <CardHeader\n          subheader=\"Update your account details here\"\n          title=\"My Profile\"\n        />\n        <CardContent>\n          <Box>\n            <img\n              width=\"150px\"\n              src={values.avatar_url}\n              alt={values.first_name}\n              style={{ borderRadius: \"50%\" }}\n            />\n          </Box>\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" fullWidth variant=\"text\">\n            Upload picture\n          </Button>\n        </CardActions>\n        <CardContent>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"First name\"\n                name=\"first_name\"\n                onChange={handleChange}\n                required\n                value={values.first_name}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Last name\"\n                name=\"last_name\"\n                onChange={handleChange}\n                required\n                value={values.last_name}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Email Address\"\n                name=\"email\"\n                onChange={handleChange}\n                required\n                value={values.email}\n                variant=\"outlined\"\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Box m={2}>\n          <Button\n            className={classes.settingsButton}\n            type=\"submit\"\n            color=\"primary\"\n            variant=\"outlined\"\n            onSubmit={handleSubmit}\n          >\n            Save details\n          </Button>\n        </Box>\n      </Card>\n    </form>\n  );\n};\n\nexport default AccountSettings;\n","import { useContext, useEffect, useState } from \"react\";\nimport DataContext from \"../../contexts/DataContext.js\";\nimport UserContext from \"../../contexts/UserContext.js\";\nimport CoffeeListItem from \"../coffees/CoffeeListItem.jsx\";\nimport { getFavouritesForUser, userFavCoffees } from \"../../helpers/selectors\";\nimport { Grid, Button } from \"@material-ui/core\";\n\nexport default function AccountFavourites(props) {\n  const { state } = useContext(DataContext);\n  const { user } = useContext(UserContext);\n  const { classes, limit } = props;\n  const coffees = state.coffees;\n\n  const [values, setValues] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n    }));\n  }, [user]);\n\n  const favourites = Object.values(state.favourites);\n  const Faves = getFavouritesForUser(favourites, values.id);\n  const favCoffees = Object.values(Faves).sort((a, b) => {\n    return new Date(b.created_at) - new Date(a.created_at);\n  });\n\n  const slicedFav = favCoffees.slice(0, limit);\n  const userCoffees = userFavCoffees(slicedFav, coffees);\n\n  // Create Coffee List Item\n  const coffeeList = userCoffees.map((coffee) => {\n    return (\n      <Grid\n        item\n        xs={12}\n        sm={8}\n        md={6}\n        lg={3}\n        style={{ padding: \"1.5em 1.5em\" }}\n      >\n        <CoffeeListItem key={coffee.id} coffee={coffee} />\n      </Grid>\n    );\n  });\n\n  return (\n    <Grid container xs={12} style={{ marginTop: \"2rem\" }}>\n      <Grid container spacing={10}>\n        {coffeeList}\n        {!coffeeList.length && <p>There are no favourites here!</p>}\n      </Grid>\n      {limit ? (\n        <Grid\n          container\n          xs={12}\n          style={{ justifyContent: \"flex-start\", marginTop: \"4.5em\" }}\n        >\n          <Button\n            className={classes.seeMoreBtn}\n            href=\"/account/favourites\"\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n          >\n            SEE MORE\n          </Button>\n        </Grid>\n      ) : null}\n    </Grid>\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\nimport ReviewListItem from \"../coffee-id/ReviewListItem\";\nimport DataContext from \"../../contexts/DataContext\";\nimport { getUserReviews } from \"../../helpers/selectors\";\nimport { Grid, Link, Button } from \"@material-ui/core\";\n\nfunction AccountReviews(props) {\n  const { coffee, classes, limit } = props;\n  const { user } = useContext(UserContext);\n  const { state } = useContext(DataContext);\n  const reviews = state.reviews;\n  const users = state.users;\n  const [values, setValues] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n    }));\n  }, [user]);\n\n  const coffeeReviews = getUserReviews(Object.values(reviews), values.id).sort(\n    (a, b) => {\n      return new Date(b.created_at) - new Date(a.created_at);\n    }\n  );\n  const slicedReviews = coffeeReviews\n    .sort((a, b) => {\n      return new Date(b.created_at) - new Date(a.created_at);\n    })\n    .slice(0, limit);\n\n  // Create Review List Item\n  const reviewList = slicedReviews.map((review) => {\n    return (\n      <Grid container className={classes.reviewItemSection}>\n        <Grid\n          item\n          sm={12}\n          md={12}\n          lg={2}\n          style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}\n        >\n          <Link href={`/coffees/${review.coffee_id}`}>\n            <img\n              class={classes.media}\n              style={{ objectFit: \"cover\" }}\n              src={state.coffees[review.coffee_id].image_url}\n              alt={`${coffee[review.id].name}`}\n            />\n          </Link>\n        </Grid>\n        <Grid item md={12} lg={10} className={classes.reviewCard}>\n          <ReviewListItem\n            key={review.id}\n            review={review}\n            reviewUser={users[review.user_id]}\n            coffee={state.coffees[review.coffee_id]}\n          />\n        </Grid>\n      </Grid>\n    );\n  });\n\n  return (\n    <div>\n      <div>{reviewList}</div>\n      {limit ? (\n        <Button\n          className={classes.seeMoreBtn}\n          href=\"/account/reviews\"\n          variant=\"contained\"\n          color=\"primary\"\n          disableElevation\n        >\n          SEE MORE\n        </Button>\n      ) : null}\n    </div>\n  );\n}\n\nexport default AccountReviews;\n","import * as React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\nimport { Helmet } from \"react-helmet\";\nimport { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport DataContext from \"../contexts/DataContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport AccountMenu from \"./my-account/AccountMenu\";\nimport AccountSettings from \"./my-account/AccountSettings\";\nimport AccountFavourites from \"./my-account/AccountFavourites\";\nimport AccountReviews from \"./my-account/AccountReviews\";\nimport Footer from \"./Footer\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 2,\n    display: \"flex\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    boxSizing: \"border-box\",\n    paddingTop: \"30px\",\n  },\n  drawerContainer: {\n    overflow: \"auto\",\n  },\n  reviewItemSection: {\n    alignItems: \"center\",\n    margin: \"1rem 1rem 1rem\",\n  },\n  reviewCard: {\n    padding: \"1rem 0rem\",\n    width: \"100%\",\n  },\n  reviewCardActionArea: {\n    padding: \"0rem 3rem\",\n  },\n  content: {\n    flexGrow: 1,\n    minHeight: \"calc(100vh - 70px)\",\n  },\n  accountContent: {\n    flexDirection: \"column\",\n    padding: \"70px 50px 50px 50px\",\n    minHeight: \"90vh\",\n  },\n  media: {\n    height: 275,\n    width: 180,\n    backgroundSize: \"contain\",\n  },\n  avatarSettings: {\n    height: 150,\n    width: 150,\n  },\n  settingsForm: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n  },\n  secondTitle: {\n    textAlign: \"center\",\n    fontVariant: \"h3\",\n  },\n  titleContainer: {\n    marginTop: \"5rem\",\n    marginBottom: \"3rem\",\n  },\n  SubTitle: {\n    margin: \"10px\",\n  },\n  seeMoreBtn: {\n    marginTop: \"2rem\",\n    color: \"#646264\",\n    backgroundColor: \"white\",\n    border: \"2px solid #DEBB63\",\n    borderRadius: \"1rem\",\n    \"&:hover\": {\n      border: \"3px solid #DEBB63\",\n      backgroundColor: \"#DEBB63\",\n      color: \"white\",\n    },\n  },\n  header: {\n    fontSize: \"2.5rem\",\n  },\n  subtitle: {\n    fontSize: \"1.5rem\",\n  },\n  paragraph: {\n    fontSize: \"1.5rem\",\n    margin: \"0px 16px 0px 16px\",\n  },\n  mainTitle: {\n    fontSize: \"3rem\",\n  },\n}));\n\nexport default function Account(props) {\n  const { editUserHandler } = props;\n  const classes = useStyles();\n  const titleSize = {\n    h1: \"h1\",\n    h2: \"h2\",\n    h3: \"h3\",\n    h4: \"h4\",\n    h5: \"h6\",\n    subtitle1: \"subtitle1\",\n  };\n  const { state } = useContext(DataContext);\n  const { user } = useContext(UserContext);\n  const [openReviewForm, setOpenReviewForm] = useState(false);\n  const [currUser, setCurrUser] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n\n  useEffect(() => {\n    setCurrUser((prev) => ({\n      ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n    }));\n  }, [user]);\n\n  const coffees = state.coffees;\n\n  return (\n    <div className={classes.root}>\n      <Helmet>\n        <title>Account | Caffa</title>\n      </Helmet>\n      <AccountMenu />\n      <main className={classes.content}>\n        <Switch>\n          <Route path=\"/account/favourites\">\n            <Grid container className={classes.accountContent}>\n              <Typography variant=\"h2\" className={classes.header} gutterBottom>\n                Favourites\n              </Typography>\n              <AccountFavourites classes={classes} titleSize={titleSize.h2} />\n            </Grid>\n          </Route>\n          <Route path=\"/account/reviews\">\n            <Grid container className={classes.accountContent}>\n              <Typography variant=\"h2\" className={classes.header} gutterBottom>\n                Reviews\n              </Typography>\n              <AccountReviews\n                classes={classes}\n                titleSize={titleSize.h2}\n                user={user}\n                coffee={coffees}\n                openReviewForm={openReviewForm}\n                setOpenReviewForm={setOpenReviewForm}\n              />\n            </Grid>\n          </Route>\n          <Route path=\"/account/settings\">\n            <Grid container className={classes.accountContent}>\n              <AccountSettings\n                editUserHandler={editUserHandler}\n                classes={classes}\n              />\n            </Grid>\n          </Route>\n          <Route path=\"/account\">\n            <Grid container className={classes.accountContent}>\n              <Typography variant=\"h2\" className={classes.mainTitle}>\n                My Caffa\n              </Typography>\n              <div className={classes.titleContainer}>\n                <Typography\n                  variant=\"h2\"\n                  className={classes.header}\n                  gutterBottom\n                >\n                  Recent Favourites\n                </Typography>\n                <Typography\n                  variant=\"h3\"\n                  className={classes.subtitle}\n                  gutterBottom\n                >\n                  Your own top picks from Caffa\n                </Typography>\n              </div>\n              <AccountFavourites\n                user={user}\n                limit={3}\n                classes={classes}\n                titleSize={titleSize.h2}\n                subTitleSize={titleSize.h4}\n              />\n              <div className={classes.titleContainer}>\n                <Typography\n                  variant=\"h2\"\n                  className={classes.header}\n                  gutterBottom\n                >\n                  Recent Reviews\n                </Typography>\n                <Typography\n                  variant=\"h3\"\n                  className={classes.subtitle}\n                  gutterBottom\n                >\n                  You left a review on these coffees\n                </Typography>\n              </div>\n              <AccountReviews\n                user={user}\n                coffee={coffees}\n                openReviewForm={openReviewForm}\n                setOpenReviewForm={setOpenReviewForm}\n                limit={3}\n                classes={classes}\n                titleSize={titleSize.h2}\n                subTitleSize={titleSize.h4}\n              />\n            </Grid>\n          </Route>\n        </Switch>\n        <Footer />\n      </main>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"../contexts/UserContext\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Caffa\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Login(props) {\n  const classes = useStyles();\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { registerHandler } = useContext(UserContext);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    registerHandler(firstName, lastName, email, password).then((data) => {\n      if (data === \"ok\") {\n        return history.push(\"/\");\n      }\n      setError(\"Email already exists\");\n    });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" style={{ minHeight: \"85vh\" }}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Register\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"first name\"\n            label=\"First name\"\n            name=\"firstName\"\n            autoComplete=\"first name\"\n            autoFocus\n            value={firstName}\n            onInput={(e) => setFirstName(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"last name\"\n            label=\"Last Name\"\n            name=\"last name\"\n            autoComplete=\"last name\"\n            autoFocus\n            value={lastName}\n            onInput={(e) => setLastName(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={email}\n            onInput={(e) => setEmail(e.target.value)}\n            {...(error && { error: true, helperText: error })}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onInput={(e) => setPassword(e.target.value)}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"outlined\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n          <Grid container>\n            <Grid item></Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import { Route, Switch } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport Nav from \"./Nav\";\nimport Login from \"./Login\";\nimport Home from \"./Home\";\nimport SearchList from \"./image-search/SearchList\";\nimport Coffees from \"./coffees/Coffees\";\nimport FavouriteContext from \"../contexts/FavouriteContext\";\nimport ReviewContext from \"../contexts/ReviewContext\";\nimport SearchContext from \"../contexts/SearchContext\";\nimport Account from \"./Account\";\nimport Register from \"./Register\";\nimport Footer from \"./Footer\";\nconst Main = (props) => {\n  const {\n    addFavourite,\n    deleteFavourite,\n    addReview,\n    editReview,\n    deleteReview,\n    addCoffee,\n    user,\n    editUserHandler,\n    logoutHandler,\n  } = props;\n\n  const [results, setResults] = useState({\n    url: \"\",\n    textArray: [],\n  });\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      style={{ position: \"relative\", width: \"100%\" }}\n    >\n      <SearchContext.Provider value={{ results, setResults }}>\n        <Grid item>\n          <Nav logoutHandler={logoutHandler} user={user} />\n        </Grid>\n      </SearchContext.Provider>\n      {/* <h2>{user ? \"I am logged in\" : \"I am not logged in\"}</h2> */}\n\n      <Switch>\n        <Route path=\"/account\">\n          <ReviewContext.Provider\n            value={{ addReview, editReview, deleteReview }}\n          >\n            <Account editUserHandler={editUserHandler} />\n          </ReviewContext.Provider>\n        </Route>\n        <Route path=\"/coffees\">\n          <ReviewContext.Provider\n            value={{ addReview, editReview, deleteReview }}\n          >\n            <FavouriteContext.Provider\n              value={{ addFavourite, deleteFavourite }}\n            >\n              <Coffees />\n            </FavouriteContext.Provider>\n          </ReviewContext.Provider>\n        </Route>\n        <>\n          <Route path=\"/search\">\n            <Grid item style={{ minHeight: \"80vh\" }}>\n              <SearchList\n                results={results}\n                setResults={setResults}\n                addCoffee={addCoffee}\n              />\n            </Grid>\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Footer />\n        </>\n      </Switch>\n    </Grid>\n  );\n};\n\nexport default Main;\n","import React, { useContext } from \"react\";\nimport Login from \"./Login\";\nimport UserContext from \"../contexts/UserContext\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Slide from \"@material-ui/core/Slide\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function NotLoggedIn(props) {\n  const { openLogin } = useContext(UserContext);\n  const { handleLoginClose } = props;\n\n  return (\n    <div>\n      <Dialog\n        open={openLogin}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleLoginClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogContent>\n          <Login />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","const SET_APPLICATION_DATA = \"SET_APPLICATION_DATA\";\nconst SET_FAVOURITE = \"SET_FAVOURITE\";\nconst SET_REVIEW = \"SET_REVIEW\";\nconst SET_COFFEE = \"SET_COFFEE\";\nconst SET_USER = \"SET_USER\";\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case SET_APPLICATION_DATA:\n      return {\n        ...state,\n        coffees: action.coffees,\n        reviews: action.reviews,\n        favourites: action.favourites,\n        users: action.users,\n        regions: action.regions,\n      };\n\n    case SET_USER:\n      return {\n        ...state,\n        users: action.users,\n      };\n\n    case SET_FAVOURITE:\n      return {\n        ...state,\n        favourites: action.favourites,\n      };\n    case SET_REVIEW:\n      return {\n        ...state,\n        reviews: action.reviews,\n      };\n\n    case SET_COFFEE:\n      return {\n        ...state,\n        coffees: { ...state.coffees, [action.coffee.id]: action.coffee },\n      };\n\n    default:\n      throw new Error(\n        `Tried to reduce with unsupported action type: ${action.type}`\n      );\n  }\n}\n\nexport {\n  SET_APPLICATION_DATA,\n  SET_FAVOURITE,\n  SET_REVIEW,\n  SET_USER,\n  SET_COFFEE,\n};\n","import { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport reducer, {\n  SET_APPLICATION_DATA,\n  SET_FAVOURITE,\n  SET_REVIEW,\n  SET_COFFEE,\n} from \"../reducers/application\";\nimport {\n  getRegions,\n  getReviewsForCoffee,\n  avgRatingForCoffee,\n} from \"../helpers/selectors\";\n\nfunction useApplicationData() {\n  const [state, dispatch] = useReducer(reducer, {\n    users: {},\n    coffees: {},\n    reviews: {},\n    favourites: {},\n    regions: {},\n  });\n\n  useEffect(() => {\n    Promise.all([\n      axios.get(\"/api/users\"),\n      axios.get(\"/api/coffees\"),\n      axios.get(\"/api/reviews\"),\n      axios.get(\"/api/favourites\"),\n    ]).then((all) => {\n      // copy users into an object\n      const users = {};\n      for (const user of all[0].data) {\n        users[user.id] = user;\n      }\n\n      // copy coffeess into an object\n      const coffees = {};\n      for (const coffee of all[1].data) {\n        coffees[coffee.id] = coffee;\n      }\n\n      // copy reviews into an object\n      const reviews = {};\n      for (const review of all[2].data) {\n        reviews[review.id] = review;\n      }\n\n      // copy favourites into an object\n      const favourites = {};\n      for (const fav of all[3].data) {\n        favourites[fav.id] = fav;\n      }\n\n      const regions = getRegions(Object.values(coffees));\n\n      dispatch({\n        type: SET_APPLICATION_DATA,\n        users,\n        coffees,\n        reviews,\n        favourites,\n        regions,\n      });\n    });\n  }, []);\n\n  function addFavourite(coffee_id, user_id) {\n    const req = {\n      coffee_id,\n      user_id,\n    };\n\n    return axios.post(`/api/favourites`, req).then((res) => {\n      const favourite = {\n        ...res.data,\n      };\n\n      const favourites = {\n        ...state.favourites,\n        [res.data.id]: favourite,\n      };\n\n      dispatch({ type: SET_FAVOURITE, favourites });\n      return res.data.id;\n    });\n  }\n\n  function deleteFavourite(id) {\n    const favourites = {\n      ...state.favourites,\n      [id]: null,\n    };\n\n    return axios.delete(`/api/favourites/${id}`).then((res) => {\n      dispatch({ type: SET_FAVOURITE, favourites });\n    });\n  }\n\n  function addReview(params) {\n    const { coffee_id, user_id, description, rating } = params;\n\n    const req = {\n      coffee_id,\n      user_id,\n      description,\n      rating,\n    };\n\n    return axios.post(`/api/reviews`, req).then((res) => {\n      const review = {\n        ...res.data,\n      };\n\n      const reviews = {\n        ...state.reviews,\n        [res.data.id]: review,\n      };\n      // updating coffee rating\n      const coffeeReviews = getReviewsForCoffee(\n        Object.values(reviews),\n        coffee_id\n      );\n      const avgRating = avgRatingForCoffee(coffeeReviews);\n\n      const coffee = {\n        ...state.coffees[coffee_id],\n        avg_rating: avgRating,\n      };\n\n      dispatch({ type: SET_COFFEE, coffee });\n      dispatch({ type: SET_REVIEW, reviews });\n      return res.data.id;\n    });\n  }\n\n  function deleteReview(id) {\n    const coffee_id = state.reviews[id].coffee_id;\n    const reviews = {\n      ...state.reviews,\n      [id]: null,\n    };\n\n    // updating coffee rating\n    const coffeeReviews = getReviewsForCoffee(\n      Object.values(reviews),\n      coffee_id\n    );\n    const avgRating = avgRatingForCoffee(coffeeReviews);\n\n    const coffee = {\n      ...state.coffees[coffee_id],\n      avg_rating: avgRating,\n    };\n\n    return axios.delete(`/api/reviews/${id}`).then((res) => {\n      dispatch({ type: SET_COFFEE, coffee });\n      dispatch({ type: SET_REVIEW, reviews });\n    });\n  }\n\n  function editReview(params) {\n    const { description, rating, id } = params;\n\n    const req = {\n      id,\n      description,\n      rating,\n    };\n    return axios.patch(`/api/reviews/${id}`, req).then((res) => {\n      const review = {\n        ...res.data,\n      };\n\n      const reviews = {\n        ...state.reviews,\n        [id]: review,\n      };\n\n      // updating coffee rating\n      const coffeeReviews = getReviewsForCoffee(\n        Object.values(reviews),\n        res.data.coffee_id\n      );\n      const avgRating = avgRatingForCoffee(coffeeReviews);\n\n      const coffee = {\n        ...state.coffees[res.data.coffee_id],\n        avg_rating: avgRating,\n      };\n\n      dispatch({ type: SET_COFFEE, coffee });\n\n      dispatch({ type: SET_REVIEW, reviews });\n    });\n  }\n\n  function addCoffee(formData) {\n    return axios.post(`/api/coffees`, formData).then((res) => {\n      const coffee = {\n        ...res.data,\n      };\n\n      dispatch({ type: SET_COFFEE, coffee });\n      return res.data.id;\n    });\n  }\n\n  return {\n    state,\n    addFavourite,\n    deleteFavourite,\n    addReview,\n    editReview,\n    deleteReview,\n    addCoffee,\n  };\n}\n\nexport default useApplicationData;\n","import React, { useEffect, useState } from \"react\";\nimport Main from \"./components/Main\";\nimport NotLoggedIn from \"./components/NotLoggedIn\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport DataContext from \"./contexts/DataContext\";\nimport UserContext from \"./contexts/UserContext\";\n\nimport useApplicationData from \"./hooks/useApplicationData\";\n\nfunction App() {\n  // user logic\n  const [user, setUser] = useState(null);\n  // const [homeCoffees, setHomeCoffees] = useState(null);\n\n  // allows us to enable the modal and close anywhere in the app\n  const [openLogin, setOpenLogin] = useState(false);\n  const handleLoginClose = () => {\n    setOpenLogin(false);\n  };\n\n  useEffect(() => {\n    axios\n      .post(\"/api/users/authenticate\")\n      .then((res) => setUser(res.data))\n      .catch((res) => {\n        console.log(\"there was an error authenticating\");\n      });\n  }, []);\n\n  const loginHandler = (email, password) => {\n    return axios\n      .post(\"/api/users/login\", { email: email, password: password })\n      .then((res) => {\n        setUser(res.data);\n      })\n      .catch((err) => {\n        console.error(err.message);\n      });\n  };\n\n  const editUserHandler = (first_name, last_name, email) => {\n    return axios\n      .post(\"/api/users/edit\", {\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n      })\n      .catch((err) => {\n        console.error(err.message);\n      });\n  };\n\n  const registerHandler = (firstName, lastName, email, password) => {\n    return axios\n      .post(\"/api/users/register\", {\n        first_name: firstName,\n        last_name: lastName,\n        email: email,\n        password: password,\n      })\n      .then((res) => {\n        setUser(res.data);\n        return \"ok\";\n      })\n      .catch((err) => {\n        return \"bad\";\n      });\n  };\n\n  const logoutHandler = () => {\n    axios.post(\"/api/users/logout\").then((res) => setUser(res.data));\n  };\n\n  const {\n    state,\n    addFavourite,\n    deleteFavourite,\n    addReview,\n    editReview,\n    deleteReview,\n    addCoffee,\n  } = useApplicationData();\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <UserContext.Provider\n          value={{\n            user,\n            loginHandler,\n            openLogin,\n            setOpenLogin,\n            registerHandler,\n            editUserHandler,\n          }}\n        >\n          <NotLoggedIn handleLoginClose={handleLoginClose} />\n          <DataContext.Provider value={{ state }}>\n            <Main\n              addFavourite={addFavourite}\n              deleteFavourite={deleteFavourite}\n              addReview={addReview}\n              editReview={editReview}\n              deleteReview={deleteReview}\n              addCoffee={addCoffee}\n              loginHandler={loginHandler}\n              logoutHandler={logoutHandler}\n              editUserHandler={editUserHandler}\n              user={user}\n              setUser={setUser}\n            />\n          </DataContext.Provider>\n        </UserContext.Provider>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.scss\";\nimport {\n  createMuiTheme,\n  ThemeProvider,\n  responsiveFontSizes,\n} from \"@material-ui/core/styles\";\n// import * as serviceWorker from \"./serviceWorker\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faFlask, faFire, faDna } from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faFlask, faDna, faFire);\n\nlet theme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: {\n      main: \"#DEBB63\",\n    },\n    secondary: {\n      main: \"#646264\",\n    },\n    text: {\n      primary: \"#252b2d\",\n      secondary: \"rgba(61,58,58,0.54)\",\n      light: \"rgb(250, 244, 234)\",\n    },\n    background: {\n      default: \"#ffffff\",\n      secondary: \"rgb(249,246,235)\",\n    },\n  },\n  typography: {\n    fontFamily: \"Roboto\",\n    h1: {\n      fontFamily: \"Playfair Display\",\n    },\n    h2: {\n      fontFamily: \"Playfair Display\",\n    },\n    h3: {\n      fontFamily: \"Roboto\",\n    },\n    h4: {\n      fontFamily: \"Roboto\",\n      color: \"#646264\",\n    },\n    h5: {\n      fontFamily: \"Roboto\",\n    },\n    h6: {\n      fontFamily: \"Roboto\",\n    },\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true,\n    },\n  },\n  overrides: {\n    // Style sheet name ⚛️\n    MuiOutlinedInput: {\n      root: {\n        \"& $notchedOutline\": {\n          borderColor: \"#d3d3d3\",\n          borderWidth: 0.5,\n        },\n      },\n    },\n    MuiButton: {\n      outlinedPrimary: {\n        color: \"#646264\",\n        border: \"2px solid #DEBB63\",\n        borderRadius: \"1rem\",\n        \"&:hover\": {\n          border: \"3px solid #DEBB63\",\n          backgroundColor: \"#DEBB63\",\n          color: \"white\",\n          \"@media (hover: none)\": {\n            color: 'black',\n            \"&:active\": {\n              backgroundColor: '#DEBB63'\n            }\n          }\n        },\n        \n      },\n    },\n  },\n});\n\ntheme = responsiveFontSizes(theme);\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <Router> */}\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n    {/* </Router> */}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor-coffee-card\":\"editorPick_editor-coffee-card__1NdiZ\",\"imgover\":\"editorPick_imgover__2ISWW\",\"img-gradient\":\"editorPick_img-gradient__yrZS4\",\"editor-coffee-image\":\"editorPick_editor-coffee-image__27-vN\",\"editor-details-section\":\"editorPick_editor-details-section__1V6KX\",\"coffee-details-brand\":\"editorPick_coffee-details-brand__DtZLF\",\"coffee-details-name\":\"editorPick_coffee-details-name__3fNpl\",\"coffee-details-paragraph\":\"editorPick_coffee-details-paragraph___Co_s\",\"coffee-details-chosen\":\"editorPick_coffee-details-chosen__3fNgj\",\"coffee-details-person\":\"editorPick_coffee-details-person__1fvvn\",\"editor-pic-container\":\"editorPick_editor-pic-container__3pVDP\",\"editor-pic\":\"editorPick_editor-pic__1BAms\"};"],"sourceRoot":""}