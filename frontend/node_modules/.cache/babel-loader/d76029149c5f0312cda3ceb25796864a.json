{"ast":null,"code":"import _slicedToArray from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import UserContext from\"../../contexts/UserContext\";import DeleteReview from\"./DeleteReview\";import EditReview from\"./EditReview\";import{makeStyles}from\"@material-ui/core/styles\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import bean from\"../../images/31080.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",padding:\"1em\",maxWidth:\"800px\",border:\"0px solid\",borderRadius:\"1rem\",fontSize:\"1.25em\",marginBottom:\"1em\",backgroundColor:theme.palette.background.secondary,\"&:hover\":{transform:\"scale3d(1.05, 1.05, 1)\",background:\"#e0d4a7\"}},image:{width:\"2em\",height:\"2em\",border:\"0px solid\",borderRadius:\"50%\",marginRight:\"0.75em\"},userInfo:{display:\"flex\",alignItems:\"center\",marginTop:\"0.5em\",fontWeight:600},rating:{background:theme.palette.primary.main,border:\"1px solid #FCE4A2\",borderRadius:\"0.5em\",padding:\"0.2em 0.5em\",marginRight:\"1em\"},bean:{marginLeft:\"1em\"},button:{marginRight:\"1em\"},description:{marginTop:\"0.5em\",wordWrap:\"break-word\"}};});export default function ReviewListItem(props){var classes=useStyles();var review=props.review,reviewUser=props.reviewUser,coffee=props.coffee;// formatting date\nvar dateArr=new Date(review.created_at).toDateString().split(\" \");var date=\"\".concat(dateArr[1],\" \").concat(dateArr[2],\", \").concat(dateArr[3]);var _useContext=useContext(UserContext),user=_useContext.user;// define edit and delete functionality\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),openDelete=_useState2[0],setOpenDelete=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openReviewForm=_useState4[0],setOpenReviewForm=_useState4[1];var handleClickOpenDelete=function handleClickOpenDelete(){setOpenDelete(true);};var handleCloseDelete=function handleCloseDelete(){setOpenDelete(false);};var handleClickOpenReviewForm=function handleClickOpenReviewForm(){setOpenReviewForm(true);};var handleCloseReviewForm=function handleCloseReviewForm(){setOpenReviewForm(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.rating,children:[review.rating,/*#__PURE__*/_jsx(\"img\",{src:bean,alt:\"bean\",style:{height:\"15px\",width:\"15px\",marginLeft:\"0.1em\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.description,children:review.description}),/*#__PURE__*/_jsxs(\"div\",{className:classes.userInfo,children:[/*#__PURE__*/_jsx(\"img\",{src:reviewUser.avatar_url,alt:reviewUser.first_name,className:classes.image}),/*#__PURE__*/_jsxs(\"div\",{children:[reviewUser.first_name,\" \",reviewUser.last_name]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:date})]}),/*#__PURE__*/_jsx(CardActions,{children:user&&user.id===review.user_id?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{className:classes.button,variant:\"outlined\",color:\"primary\",size:\"small\",onClick:handleClickOpenReviewForm,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",size:\"small\",onClick:handleClickOpenDelete,children:\"Delete\"})]}):\"\"})]}),/*#__PURE__*/_jsx(DeleteReview,{id:review.id,open:openDelete,handleClose:handleCloseDelete,handleClickOpen:handleClickOpenDelete}),/*#__PURE__*/_jsx(EditReview,{coffee:coffee,review:review,openReviewForm:openReviewForm,setOpenReviewForm:setOpenReviewForm,handleCloseReviewForm:handleCloseReviewForm,handleClickOpenReviewForm:handleClickOpenReviewForm})]});}","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/coffee-id/ReviewListItem.jsx"],"names":["React","useContext","useState","UserContext","DeleteReview","EditReview","makeStyles","Card","CardActions","CardContent","Button","Typography","bean","useStyles","theme","root","display","flexDirection","justifyContent","padding","maxWidth","border","borderRadius","fontSize","marginBottom","backgroundColor","palette","background","secondary","transform","image","width","height","marginRight","userInfo","alignItems","marginTop","fontWeight","rating","primary","main","marginLeft","button","description","wordWrap","ReviewListItem","props","classes","review","reviewUser","coffee","dateArr","Date","created_at","toDateString","split","date","user","openDelete","setOpenDelete","openReviewForm","setOpenReviewForm","handleClickOpenDelete","handleCloseDelete","handleClickOpenReviewForm","handleCloseReviewForm","avatar_url","first_name","last_name","id","user_id"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAGP,UAAU,CAAC,SAACQ,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJC,OAAO,CAAE,MADL,CAEJC,aAAa,CAAE,QAFX,CAGJC,cAAc,CAAE,eAHZ,CAIJC,OAAO,CAAE,KAJL,CAKJC,QAAQ,CAAE,OALN,CAMJC,MAAM,CAAE,WANJ,CAOJC,YAAY,CAAE,MAPV,CAQJC,QAAQ,CAAE,QARN,CASJC,YAAY,CAAE,KATV,CAUJC,eAAe,CAAEX,KAAK,CAACY,OAAN,CAAcC,UAAd,CAAyBC,SAVtC,CAWJ,UAAW,CACTC,SAAS,CAAE,wBADF,CAETF,UAAU,CAAE,SAFH,CAXP,CADiC,CAiBvCG,KAAK,CAAE,CACLC,KAAK,CAAE,KADF,CAELC,MAAM,CAAE,KAFH,CAGLX,MAAM,CAAE,WAHH,CAILC,YAAY,CAAE,KAJT,CAKLW,WAAW,CAAE,QALR,CAjBgC,CAwBvCC,QAAQ,CAAE,CACRlB,OAAO,CAAE,MADD,CAERmB,UAAU,CAAE,QAFJ,CAGRC,SAAS,CAAE,OAHH,CAIRC,UAAU,CAAE,GAJJ,CAxB6B,CA8BvCC,MAAM,CAAE,CACNX,UAAU,CAAEb,KAAK,CAACY,OAAN,CAAca,OAAd,CAAsBC,IAD5B,CAENnB,MAAM,CAAE,mBAFF,CAGNC,YAAY,CAAE,OAHR,CAINH,OAAO,CAAE,aAJH,CAKNc,WAAW,CAAE,KALP,CA9B+B,CAqCvCrB,IAAI,CAAE,CACJ6B,UAAU,CAAE,KADR,CArCiC,CAwCvCC,MAAM,CAAE,CACNT,WAAW,CAAE,KADP,CAxC+B,CA2CvCU,WAAW,CAAE,CACXP,SAAS,CAAE,OADA,CAEXQ,QAAQ,CAAE,YAFC,CA3C0B,CAAZ,EAAD,CAA5B,CAiDA,cAAe,SAASC,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,CAC5C,GAAMC,CAAAA,OAAO,CAAGlC,SAAS,EAAzB,CAD4C,GAEpCmC,CAAAA,MAFoC,CAELF,KAFK,CAEpCE,MAFoC,CAE5BC,UAF4B,CAELH,KAFK,CAE5BG,UAF4B,CAEhBC,MAFgB,CAELJ,KAFK,CAEhBI,MAFgB,CAI5C;AACA,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,CAASJ,MAAM,CAACK,UAAhB,EAA4BC,YAA5B,GAA2CC,KAA3C,CAAiD,GAAjD,CAAhB,CACA,GAAMC,CAAAA,IAAI,WAAML,OAAO,CAAC,CAAD,CAAb,aAAoBA,OAAO,CAAC,CAAD,CAA3B,cAAmCA,OAAO,CAAC,CAAD,CAA1C,CAAV,CAN4C,gBAQ3BlD,UAAU,CAACE,WAAD,CARiB,CAQpCsD,IARoC,aAQpCA,IARoC,CAU5C;AAV4C,cAWRvD,QAAQ,CAAC,KAAD,CAXA,wCAWrCwD,UAXqC,eAWzBC,aAXyB,8BAYAzD,QAAQ,CAAC,KAAD,CAZR,yCAYrC0D,cAZqC,eAYrBC,iBAZqB,eAc5C,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClCH,aAAa,CAAC,IAAD,CAAb,CACD,CAFD,CAIA,GAAMI,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BJ,aAAa,CAAC,KAAD,CAAb,CACD,CAFD,CAIA,GAAMK,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,EAAM,CACtCH,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAFD,CAIA,GAAMI,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClCJ,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAFD,CAIA,mBACE,wCACE,MAAC,IAAD,EAAM,SAAS,CAAEd,OAAO,CAAChC,IAAzB,wBACE,MAAC,WAAD,yBACE,cAAM,SAAS,CAAEgC,OAAO,CAACT,MAAzB,WACGU,MAAM,CAACV,MADV,cAEE,YACE,GAAG,CAAE1B,IADP,CAEE,GAAG,CAAC,MAFN,CAGE,KAAK,CAAE,CAAEoB,MAAM,CAAE,MAAV,CAAkBD,KAAK,CAAE,MAAzB,CAAiCU,UAAU,CAAE,OAA7C,CAHT,EAFF,GADF,cASE,YAAK,SAAS,CAAEM,OAAO,CAACJ,WAAxB,UAAsCK,MAAM,CAACL,WAA7C,EATF,cAUE,aAAK,SAAS,CAAEI,OAAO,CAACb,QAAxB,wBACE,YACE,GAAG,CAAEe,UAAU,CAACiB,UADlB,CAEE,GAAG,CAAEjB,UAAU,CAACkB,UAFlB,CAGE,SAAS,CAAEpB,OAAO,CAACjB,KAHrB,EADF,cAME,uBACGmB,UAAU,CAACkB,UADd,KAC2BlB,UAAU,CAACmB,SADtC,GANF,GAVF,cAoBE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,UACGZ,IADH,EApBF,GADF,cAyBE,KAAC,WAAD,WACGC,IAAI,EAAIA,IAAI,CAACY,EAAL,GAAYrB,MAAM,CAACsB,OAA3B,cACC,oCACE,KAAC,MAAD,EACE,SAAS,CAAEvB,OAAO,CAACL,MADrB,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,SAHR,CAIE,IAAI,CAAC,OAJP,CAKE,OAAO,CAAEsB,yBALX,kBADF,cAUE,KAAC,MAAD,EACE,OAAO,CAAC,UADV,CAEE,KAAK,CAAC,SAFR,CAGE,IAAI,CAAC,OAHP,CAIE,OAAO,CAAEF,qBAJX,oBAVF,GADD,CAqBC,EAtBJ,EAzBF,GADF,cAoDE,KAAC,YAAD,EACE,EAAE,CAAEd,MAAM,CAACqB,EADb,CAEE,IAAI,CAAEX,UAFR,CAGE,WAAW,CAAEK,iBAHf,CAIE,eAAe,CAAED,qBAJnB,EApDF,cA0DE,KAAC,UAAD,EACE,MAAM,CAAEZ,MADV,CAEE,MAAM,CAAEF,MAFV,CAGE,cAAc,CAAEY,cAHlB,CAIE,iBAAiB,CAAEC,iBAJrB,CAKE,qBAAqB,CAAEI,qBALzB,CAME,yBAAyB,CAAED,yBAN7B,EA1DF,GADF,CAqED","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport DeleteReview from \"./DeleteReview\";\nimport EditReview from \"./EditReview\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport bean from \"../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    padding: \"1em\",\n    maxWidth: \"800px\",\n    border: \"0px solid\",\n    borderRadius: \"1rem\",\n    fontSize: \"1.25em\",\n    marginBottom: \"1em\",\n    backgroundColor: theme.palette.background.secondary,\n    \"&:hover\": {\n      transform: \"scale3d(1.05, 1.05, 1)\",\n      background: \"#e0d4a7\",\n    },\n  },\n  image: {\n    width: \"2em\",\n    height: \"2em\",\n    border: \"0px solid\",\n    borderRadius: \"50%\",\n    marginRight: \"0.75em\",\n  },\n  userInfo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: \"0.5em\",\n    fontWeight: 600,\n  },\n  rating: {\n    background: theme.palette.primary.main,\n    border: \"1px solid #FCE4A2\",\n    borderRadius: \"0.5em\",\n    padding: \"0.2em 0.5em\",\n    marginRight: \"1em\",\n  },\n  bean: {\n    marginLeft: \"1em\",\n  },\n  button: {\n    marginRight: \"1em\",\n  },\n  description: {\n    marginTop: \"0.5em\",\n    wordWrap: \"break-word\",\n  },\n}));\n\nexport default function ReviewListItem(props) {\n  const classes = useStyles();\n  const { review, reviewUser, coffee } = props;\n\n  // formatting date\n  const dateArr = new Date(review.created_at).toDateString().split(\" \");\n  const date = `${dateArr[1]} ${dateArr[2]}, ${dateArr[3]}`;\n\n  const { user } = useContext(UserContext);\n\n  // define edit and delete functionality\n  const [openDelete, setOpenDelete] = useState(false);\n  const [openReviewForm, setOpenReviewForm] = useState(false);\n\n  const handleClickOpenDelete = () => {\n    setOpenDelete(true);\n  };\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false);\n  };\n\n  const handleClickOpenReviewForm = () => {\n    setOpenReviewForm(true);\n  };\n\n  const handleCloseReviewForm = () => {\n    setOpenReviewForm(false);\n  };\n\n  return (\n    <>\n      <Card className={classes.root}>\n        <CardContent>\n          <span className={classes.rating}>\n            {review.rating}\n            <img\n              src={bean}\n              alt=\"bean\"\n              style={{ height: \"15px\", width: \"15px\", marginLeft: \"0.1em\" }}\n            />\n          </span>\n          <div className={classes.description}>{review.description}</div>\n          <div className={classes.userInfo}>\n            <img\n              src={reviewUser.avatar_url}\n              alt={reviewUser.first_name}\n              className={classes.image}\n            />\n            <div>\n              {reviewUser.first_name} {reviewUser.last_name}\n            </div>\n          </div>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {date}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          {user && user.id === review.user_id ? (\n            <div>\n              <Button\n                className={classes.button}\n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={handleClickOpenReviewForm}\n              >\n                Edit\n              </Button>\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"small\"\n                onClick={handleClickOpenDelete}\n              >\n                Delete\n              </Button>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </CardActions>\n      </Card>\n      <DeleteReview\n        id={review.id}\n        open={openDelete}\n        handleClose={handleCloseDelete}\n        handleClickOpen={handleClickOpenDelete}\n      />\n      <EditReview\n        coffee={coffee}\n        review={review}\n        openReviewForm={openReviewForm}\n        setOpenReviewForm={setOpenReviewForm}\n        handleCloseReviewForm={handleCloseReviewForm}\n        handleClickOpenReviewForm={handleClickOpenReviewForm}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}