{"ast":null,"code":"import _regeneratorRuntime from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{useEffect,useState}from\"react\";import axios from\"axios\";import Card from\"@material-ui/core/Card\";import Link from\"@material-ui/core/Link\";import MapContainer from\"./MapContainer\";import CircularProgress from\"@material-ui/core/CircularProgress\";import CardContent from\"@material-ui/core/CardContent\";import CardMedia from\"@material-ui/core/CardMedia\";import Typography from\"@material-ui/core/Typography\";import{makeStyles}from\"@material-ui/core/styles\";import bean from\"../../images/31080.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{section:_defineProperty({display:\"flex\",flexDirection:\"row\",paddingTop:0},theme.breakpoints.down(\"sm\"),{flexDirection:\"column\",margin:\"0 auto\"}),root:{backgroundColor:theme.palette.background.secondary,flex:1,minWidth:\"40%\",padding:\"1.5em\",marginRight:\"1em\",borderTop:\"1px solid rgb(238,238,238)\",borderRadius:\"1em\"},media:{height:300},img:{padding:0,margin:0},loading:{margin:\"2rem auto\"}};});function Cafe(props){var coffee=props.coffee,cafeData=props.cafeData,setCafeData=props.setCafeData;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){var getCafeData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var query,cafeDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:query=coffee.brand.toLowerCase().split(\" \").join(\"+\");_context.next=3;return axios.get(\"/api/cafes/?brand=\".concat(query));case 3:cafeDetails=_context.sent;setCafeData(function(prev){return cafeDetails.data;});setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getCafeData(){return _ref.apply(this,arguments);};}();getCafeData();},[coffee,setCafeData]);var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:classes.section,children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:classes.loading,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\",style:{position:\"center\"}})}),cafeData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsx(CardMedia,{classes:{img:classes.img,root:classes.media},image:cafeData.image_url,title:cafeData.name}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:cafeData.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:[\"Rating: \",cafeData.rating,\" \",/*#__PURE__*/_jsx(\"img\",{src:bean,style:{height:\"15px\",width:\"15px\"},alt:\"bean\"})]}),/*#__PURE__*/_jsx(Link,{href:cafeData.url,children:\"See More Details On Yelp\"})]})]}),/*#__PURE__*/_jsx(MapContainer,{className:classes.map,name:cafeData.name,latitude:cafeData.coordinates.latitude,longitude:cafeData.coordinates.longitude,distance:Math.round(cafeData.distance/1000*10)/10})]})]});}export default Cafe;","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/coffee-id/Cafe.jsx"],"names":["useEffect","useState","axios","Card","Link","MapContainer","CircularProgress","CardContent","CardMedia","Typography","makeStyles","bean","useStyles","theme","section","display","flexDirection","paddingTop","breakpoints","down","margin","root","backgroundColor","palette","background","secondary","flex","minWidth","padding","marginRight","borderTop","borderRadius","media","height","img","loading","Cafe","props","coffee","cafeData","setCafeData","setLoading","getCafeData","query","brand","toLowerCase","split","join","get","cafeDetails","prev","data","classes","position","image_url","name","rating","width","url","map","coordinates","latitude","longitude","Math","round","distance"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport Link from \"@material-ui/core/Link\";\nimport MapContainer from \"./MapContainer\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport bean from \"../../images/31080.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    paddingTop: 0,\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      margin: \"0 auto\",\n    },\n  },\n  root: {\n    backgroundColor: theme.palette.background.secondary,\n    flex: 1,\n    minWidth: \"40%\",\n    padding: \"1.5em\",\n    marginRight: \"1em\",\n    borderTop: \"1px solid rgb(238,238,238)\",\n    borderRadius: \"1em\",\n  },\n  media: {\n    height: 300,\n  },\n  img: {\n    padding: 0,\n    margin: 0,\n  },\n  loading: {\n    margin: \"2rem auto\",\n  },\n}));\n\nfunction Cafe(props) {\n  const { coffee, cafeData, setCafeData } = props;\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getCafeData = async () => {\n      const query = coffee.brand.toLowerCase().split(\" \").join(\"+\");\n      const cafeDetails = await axios.get(`/api/cafes/?brand=${query}`);\n      setCafeData((prev) => cafeDetails.data);\n      setLoading(false);\n    };\n\n    getCafeData();\n  }, [coffee, setCafeData]);\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.section}>\n      {loading && (\n        <div className={classes.loading}>\n          <CircularProgress color=\"primary\" style={{ position: \"center\" }} />\n        </div>\n      )}\n      {cafeData && (\n        <>\n          <Card className={classes.root}>\n            <CardMedia\n              classes={{\n                img: classes.img,\n                root: classes.media,\n              }}\n              image={cafeData.image_url}\n              title={cafeData.name}\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                {cafeData.name}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                Rating: {cafeData.rating}{\" \"}\n                <img\n                  src={bean}\n                  style={{ height: \"15px\", width: \"15px\" }}\n                  alt=\"bean\"\n                />\n              </Typography>\n              <Link href={cafeData.url}>See More Details On Yelp</Link>\n            </CardContent>\n          </Card>\n          <MapContainer\n            className={classes.map}\n            name={cafeData.name}\n            latitude={cafeData.coordinates.latitude}\n            longitude={cafeData.coordinates.longitude}\n            distance={Math.round((cafeData.distance / 1000) * 10) / 10}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Cafe;\n"]},"metadata":{},"sourceType":"module"}