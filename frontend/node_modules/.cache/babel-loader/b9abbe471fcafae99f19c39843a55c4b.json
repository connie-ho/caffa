{"ast":null,"code":"var _jsxFileName = \"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/my-account/AccountReviews.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\nimport ReviewListItem from \"../coffee-id/ReviewListItem\";\nimport DataContext from \"../../contexts/DataContext\";\nimport { getUserReviews } from \"../../helpers/selectors\";\nimport { Grid, Link, Button } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AccountReviews(props) {\n  _s();\n\n  const {\n    coffee,\n    classes,\n    limit\n  } = props;\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    state\n  } = useContext(DataContext);\n  const reviews = state.reviews;\n  const users = state.users;\n  const [values, setValues] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\"\n  });\n  useEffect(() => {\n    setValues(prev => ({ ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\"\n    }));\n  }, [user]);\n  const coffeeReviews = getUserReviews(Object.values(reviews), values.id).sort((a, b) => {\n    return new Date(b.created_at) - new Date(a.created_at);\n  });\n  const slicedReviews = coffeeReviews.sort((a, b) => {\n    return new Date(b.created_at) - new Date(a.created_at);\n  }).slice(0, limit); // Create Review List Item\n\n  const reviewList = slicedReviews.map(review => {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      className: classes.reviewItemSection,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        sm: 12,\n        md: 12,\n        lg: 2,\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: `/coffees/${review.coffee_id}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            class: classes.media,\n            style: {\n              objectFit: \"cover\"\n            },\n            src: state.coffees[review.coffee_id].image_url,\n            alt: `${coffee[review.id].name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        lg: 10,\n        className: classes.reviewCard,\n        children: /*#__PURE__*/_jsxDEV(ReviewListItem, {\n          review: review,\n          reviewUser: users[review.user_id],\n          coffee: state.coffees[review.coffee_id]\n        }, review.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: reviewList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), limit ? /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.seeMoreBtn,\n      href: \"/account/reviews\",\n      variant: \"contained\",\n      color: \"primary\",\n      disableElevation: true,\n      children: \"SEE MORE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AccountReviews, \"JLwF9asM4HYX2cWu/XZ0Db2NClI=\");\n\n_c = AccountReviews;\nexport default AccountReviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountReviews\");","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/my-account/AccountReviews.jsx"],"names":["useState","useContext","useEffect","UserContext","ReviewListItem","DataContext","getUserReviews","Grid","Link","Button","AccountReviews","props","coffee","classes","limit","user","state","reviews","users","values","setValues","id","first_name","last_name","email","prev","coffeeReviews","Object","sort","a","b","Date","created_at","slicedReviews","slice","reviewList","map","review","reviewItemSection","display","justifyContent","width","coffee_id","media","objectFit","coffees","image_url","name","reviewCard","user_id","seeMoreBtn"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\nimport ReviewListItem from \"../coffee-id/ReviewListItem\";\nimport DataContext from \"../../contexts/DataContext\";\nimport { getUserReviews } from \"../../helpers/selectors\";\nimport { Grid, Link, Button } from \"@material-ui/core\";\n\nfunction AccountReviews(props) {\n  const { coffee, classes, limit } = props;\n  const { user } = useContext(UserContext);\n  const { state } = useContext(DataContext);\n  const reviews = state.reviews;\n  const users = state.users;\n  const [values, setValues] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n    }));\n  }, [user]);\n\n  const coffeeReviews = getUserReviews(Object.values(reviews), values.id).sort(\n    (a, b) => {\n      return new Date(b.created_at) - new Date(a.created_at);\n    }\n  );\n  const slicedReviews = coffeeReviews\n    .sort((a, b) => {\n      return new Date(b.created_at) - new Date(a.created_at);\n    })\n    .slice(0, limit);\n\n  // Create Review List Item\n  const reviewList = slicedReviews.map((review) => {\n    return (\n      <Grid container className={classes.reviewItemSection}>\n        <Grid\n          item\n          sm={12}\n          md={12}\n          lg={2}\n          style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}\n        >\n          <Link href={`/coffees/${review.coffee_id}`}>\n            <img\n              class={classes.media}\n              style={{ objectFit: \"cover\" }}\n              src={state.coffees[review.coffee_id].image_url}\n              alt={`${coffee[review.id].name}`}\n            />\n          </Link>\n        </Grid>\n        <Grid item md={12} lg={10} className={classes.reviewCard}>\n          <ReviewListItem\n            key={review.id}\n            review={review}\n            reviewUser={users[review.user_id]}\n            coffee={state.coffees[review.coffee_id]}\n          />\n        </Grid>\n      </Grid>\n    );\n  });\n\n  return (\n    <div>\n      <div>{reviewList}</div>\n      {limit ? (\n        <Button\n          className={classes.seeMoreBtn}\n          href=\"/account/reviews\"\n          variant=\"contained\"\n          color=\"primary\"\n          disableElevation\n        >\n          SEE MORE\n        </Button>\n      ) : null}\n    </div>\n  );\n}\n\nexport default AccountReviews;\n"]},"metadata":{},"sourceType":"module"}