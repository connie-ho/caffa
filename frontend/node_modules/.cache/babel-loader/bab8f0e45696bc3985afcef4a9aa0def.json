{"ast":null,"code":"import _defineProperty from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect}from\"react\";import UserContext from\"../../contexts/UserContext\";import{Box,Button,Card,CardContent,CardHeader,Grid,TextField,CardActions}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccountSettings=function AccountSettings(props){var editUserHandler=props.editUserHandler;var classes=props.classes;var _useContext=useContext(UserContext),user=_useContext.user;var _useState=useState({first_name:\"\",last_name:\"\",email:\"\",avatar_url:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},{first_name:user?user.first_name:\"\",last_name:user?user.last_name:\"\",email:user?user.email:\"\",avatar_url:user?user.avatar_url:\"\"});});},[user]);var handleChange=function handleChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();editUserHandler(values.first_name,values.last_name,values.email);};return/*#__PURE__*/_jsx(\"form\",_objectSpread(_objectSpread({autoComplete:\"off\",noValidate:true},props),{},{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{subheader:\"Update your account details here\",title:\"My Profile\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(\"img\",{width:\"150px\",src:values.avatar_url,alt:values.first_name,style:{borderRadius:\"50%\"}})})}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{color:\"primary\",fullWidth:true,variant:\"text\",children:\"Upload picture\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"First name\",name:\"first_name\",onChange:handleChange,required:true,value:values.first_name,variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Last name\",name:\"last_name\",onChange:handleChange,required:true,value:values.last_name,variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email Address\",name:\"email\",onChange:handleChange,required:true,value:values.email,variant:\"outlined\"})})]})}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(Button,{className:classes.settingsButton,type:\"submit\",color:\"primary\",variant:\"outlined\",onSubmit:handleSubmit,children:\"Save details\"})})]})}));};export default AccountSettings;","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/my-account/AccountSettings.jsx"],"names":["useState","useContext","useEffect","UserContext","Box","Button","Card","CardContent","CardHeader","Grid","TextField","CardActions","AccountSettings","props","editUserHandler","classes","user","first_name","last_name","email","avatar_url","values","setValues","prev","handleChange","event","target","name","value","handleSubmit","e","preventDefault","borderRadius","settingsButton"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport UserContext from \"../../contexts/UserContext\";\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Grid,\n  TextField,\n  CardActions,\n} from \"@material-ui/core\";\n\nconst AccountSettings = (props) => {\n  const { editUserHandler } = props;\n  const { classes } = props;\n  const { user } = useContext(UserContext);\n  const [values, setValues] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n    avatar_url: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n      avatar_url: user ? user.avatar_url : \"\",\n    }));\n  }, [user]);\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    editUserHandler(values.first_name, values.last_name, values.email);\n  };\n\n  return (\n    <form autoComplete=\"off\" noValidate {...props} onSubmit={handleSubmit}>\n      <Card>\n        <CardHeader\n          subheader=\"Update your account details here\"\n          title=\"My Profile\"\n        />\n        <CardContent>\n          <Box>\n            <img\n              width=\"150px\"\n              src={values.avatar_url}\n              alt={values.first_name}\n              style={{ borderRadius: \"50%\" }}\n            />\n          </Box>\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" fullWidth variant=\"text\">\n            Upload picture\n          </Button>\n        </CardActions>\n        <CardContent>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"First name\"\n                name=\"first_name\"\n                onChange={handleChange}\n                required\n                value={values.first_name}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Last name\"\n                name=\"last_name\"\n                onChange={handleChange}\n                required\n                value={values.last_name}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Email Address\"\n                name=\"email\"\n                onChange={handleChange}\n                required\n                value={values.email}\n                variant=\"outlined\"\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Box m={2}>\n          <Button\n            className={classes.settingsButton}\n            type=\"submit\"\n            color=\"primary\"\n            variant=\"outlined\"\n            onSubmit={handleSubmit}\n          >\n            Save details\n          </Button>\n        </Box>\n      </Card>\n    </form>\n  );\n};\n\nexport default AccountSettings;\n"]},"metadata":{},"sourceType":"module"}