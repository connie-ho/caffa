{"ast":null,"code":"import _slicedToArray from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useContext}from\"react\";import UserContext from\"../contexts/UserContext\";import{Link,NavLink}from\"react-router-dom\";import{fade,makeStyles}from\"@material-ui/core/styles\";import{Icon}from\"@material-ui/core\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import IconButton from\"@material-ui/core/IconButton\";import Typography from\"@material-ui/core/Typography\";import MenuItem from\"@material-ui/core/MenuItem\";import Menu from\"@material-ui/core/Menu\";import SearchIcon from\"@material-ui/icons/Search\";import AccountCircle from\"@material-ui/icons/AccountCircle\";import MoreIcon from\"@material-ui/icons/MoreVert\";import CameraAltIcon from\"@material-ui/icons/CameraAlt\";import FormDialog from\"./image-search/ImageSearchModal\";import SearchBar from\"./dynamic-search/SearchBar\";import headIcon from\"../images/Caffa2.png\";import Paper from\"@material-ui/core/Paper\";import FreeBreakfastIcon from\"@material-ui/icons/FreeBreakfast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{grow:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},appBar:{padding:\"0.5rem 0.5rem\",maxWidth:\"100%\",zIndex:theme.zIndex.drawer+1,alignItems:\"center\"},title:_defineProperty({display:\"none\"},theme.breakpoints.up(\"sm\"),{display:\"block\",marginLeft:20}),allCoffee:_defineProperty({display:\"none\"},theme.breakpoints.up(\"sm\"),{display:\"block\",marginLeft:0,marginRight:\"2em\"}),search:_defineProperty({position:\"relative\",borderRadius:theme.shape.borderRadius,backgroundColor:fade(theme.palette.common.white,0.15),\"&:hover\":{backgroundColor:fade(theme.palette.common.white,0.25)},marginLeft:theme.spacing(1)},theme.breakpoints.up(\"sm\"),{marginRight:theme.spacing(1),width:\"auto\"}),searchIcon:{padding:theme.spacing(0,2),height:\"100%\",position:\"absolute\",pointerEvents:\"none\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},inputRoot:{color:\"inherit\"},imageIcon:_defineProperty({marginRight:\"1.5em\"},theme.breakpoints.up(\"md\"),{marginRight:\"3em\"}),inputInput:_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\"px)\"),transition:theme.transitions.create(\"width\"),width:\"100%\"},theme.breakpoints.up(\"md\"),{width:\"20ch\"}),sectionDesktop:_defineProperty({display:\"none\"},theme.breakpoints.up(\"md\"),{display:\"flex\",marginLeft:\"1.5em\"}),sectionMobile:_defineProperty({display:\"flex\"},theme.breakpoints.up(\"md\"),{display:\"none\"}),mobileMenu:{marginRight:theme.spacing(1)},toolbar:theme.mixins.toolbar};});export default function Nav(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),mobileMoreAnchorEl=_React$useState4[0],setMobileMoreAnchorEl=_React$useState4[1];var isMenuOpen=Boolean(anchorEl);var isMobileMenuOpen=Boolean(mobileMoreAnchorEl);var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),modalOpen=_React$useState6[0],setModalOpen=_React$useState6[1];var _useContext=useContext(UserContext),user=_useContext.user;var logoutHandler=props.logoutHandler;var handleProfileMenuOpen=function handleProfileMenuOpen(event){setAnchorEl(event.currentTarget);};var handleModalOpen=function handleModalOpen(){setModalOpen(true);setMobileMoreAnchorEl(null);};var handleMobileMenuClose=function handleMobileMenuClose(){setMobileMoreAnchorEl(null);};var handleMenuClose=function handleMenuClose(){setAnchorEl(null);handleMobileMenuClose();};var handleMobileMenuOpen=function handleMobileMenuOpen(event){setMobileMoreAnchorEl(event.currentTarget);};var menuId=\"primary-search-account-menu\";var renderMenu=/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},id:menuId,keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:isMenuOpen,onClose:handleMenuClose,children:[user&&/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(Link,{to:\"/account\",children:\"My Account\"})}),user&&/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(Link,{to:\"/account/favourites\",children:\"Favourited Coffee\"})}),user&&/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(Link,{to:\"/account/reviews\",children:\"Reviewed Coffee\"})}),user&&/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(Link,{to:\"/account/settings\",children:\"Settings\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:user?/*#__PURE__*/_jsx(Link,{onClick:logoutHandler,children:\"Logout\"}):/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})})]});var renderModal=/*#__PURE__*/_jsx(FormDialog,{open:modalOpen,setOpen:setModalOpen});var mobileMenuId=\"primary-search-account-menu-mobile\";var renderMobileMenu=/*#__PURE__*/_jsxs(Menu,{className:classes.mobileMenu,anchorEl:mobileMoreAnchorEl,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},id:mobileMenuId,keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:isMobileMenuOpen,onClose:handleMobileMenuClose,children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleProfileMenuOpen,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"primary-search-account-menu\",\"aria-haspopup\":\"true\",color:\"inherit\",children:/*#__PURE__*/_jsx(AccountCircle,{})})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleModalOpen,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"image-search\",\"aria-controls\":\"image-search\",\"aria-haspopup\":\"true\",color:\"inherit\",children:/*#__PURE__*/_jsx(CameraAltIcon,{})})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleMenuClose,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"all-coffeescoffees\",\"aria-controls\":\"all-coffees\",\"aria-haspopup\":\"true\",color:\"inherit\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/coffees\",children:[/*#__PURE__*/_jsx(FreeBreakfastIcon,{}),\" \"]})})})]});return/*#__PURE__*/_jsxs(\"div\",{className:classes.grow,children:[/*#__PURE__*/_jsx(AppBar,{elevation:2,position:\"fixed\",className:classes.appBar,style:{background:\"#FFFFFF\"},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:classes.imageIcon,style:{width:\"50px\"},children:/*#__PURE__*/_jsx(Icon,{edge:\"start\",className:classes.menuButton,color:\"inherit\",\"aria-label\":\"open drawer\",size:\"small\",children:/*#__PURE__*/_jsx(\"img\",{src:headIcon,width:\"60\",height:\"50\",alt:\"caffa\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/coffees\",children:/*#__PURE__*/_jsx(Typography,{className:classes.allCoffee,variant:\"body2\",noWrap:true,children:\"COFFEES\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.search,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.searchIcon,children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(SearchBar,{})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.grow}),/*#__PURE__*/_jsxs(\"div\",{className:classes.sectionDesktop,children:[/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"camera\",\"aria-controls\":menuId,\"aria-haspopup\":\"true\",onClick:handleModalOpen,color:\"inherit\",children:/*#__PURE__*/_jsx(CameraAltIcon,{})}),user&&/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"account of current user\",\"aria-controls\":menuId,\"aria-haspopup\":\"true\",onClick:handleProfileMenuOpen,color:\"inherit\",children:/*#__PURE__*/_jsx(AccountCircle,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.sectionMobile,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"show more\",\"aria-controls\":mobileMenuId,\"aria-haspopup\":\"true\",onClick:handleMobileMenuOpen,color:\"inherit\",children:/*#__PURE__*/_jsx(MoreIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{children:user?null:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(Typography,{className:classes.title,variant:\"body2\",noWrap:true,children:\"LOGIN\"})})})]})}),renderMobileMenu,renderMenu,renderModal,/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsx(\"div\",{className:classes.toolbar})})]});}","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/Nav.jsx"],"names":["React","useContext","UserContext","Link","NavLink","fade","makeStyles","Icon","AppBar","Toolbar","IconButton","Typography","MenuItem","Menu","SearchIcon","AccountCircle","MoreIcon","CameraAltIcon","FormDialog","SearchBar","headIcon","Paper","FreeBreakfastIcon","useStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","appBar","padding","maxWidth","zIndex","drawer","alignItems","title","display","breakpoints","up","marginLeft","allCoffee","search","position","borderRadius","shape","backgroundColor","palette","common","white","width","searchIcon","height","pointerEvents","justifyContent","inputRoot","color","imageIcon","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","mobileMenu","toolbar","mixins","Nav","props","classes","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","modalOpen","setModalOpen","user","logoutHandler","handleProfileMenuOpen","event","currentTarget","handleModalOpen","handleMobileMenuClose","handleMenuClose","handleMobileMenuOpen","menuId","renderMenu","vertical","horizontal","renderModal","mobileMenuId","renderMobileMenu","background"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport { Icon } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\nimport FormDialog from \"./image-search/ImageSearchModal\";\nimport SearchBar from \"./dynamic-search/SearchBar\";\nimport headIcon from \"../images/Caffa2.png\";\nimport Paper from \"@material-ui/core/Paper\";\nimport FreeBreakfastIcon from \"@material-ui/icons/FreeBreakfast\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  appBar: {\n    padding: \"0.5rem 0.5rem\",\n    maxWidth: \"100%\",\n    zIndex: theme.zIndex.drawer + 1,\n    alignItems: \"center\",\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n      marginLeft: 20,\n    },\n  },\n  allCoffee: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n      marginLeft: 0,\n      marginRight: \"2em\",\n    },\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: theme.spacing(1),\n    [theme.breakpoints.up(\"sm\")]: {\n      marginRight: theme.spacing(1),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  imageIcon: {\n    marginRight: \"1.5em\",\n\n    [theme.breakpoints.up(\"md\")]: {\n      marginRight: \"3em\",\n    },\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n  sectionDesktop: {\n    display: \"none\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"flex\",\n      marginLeft: \"1.5em\",\n    },\n  },\n  sectionMobile: {\n    display: \"flex\",\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  mobileMenu: {\n    marginRight: theme.spacing(1),\n  },\n  toolbar: theme.mixins.toolbar,\n}));\n\nexport default function Nav(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const { user } = useContext(UserContext);\n\n  const { logoutHandler } = props;\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleModalOpen = () => {\n    setModalOpen(true);\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const menuId = \"primary-search-account-menu\";\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account\">My Account</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/favourites\">Favourited Coffee</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/reviews\">Reviewed Coffee</Link>\n        </MenuItem>\n      )}\n      {user && (\n        <MenuItem onClick={handleMenuClose}>\n          <Link to=\"/account/settings\">Settings</Link>\n        </MenuItem>\n      )}\n      <MenuItem onClick={handleMenuClose}>\n        {user ? (\n          <Link onClick={logoutHandler}>Logout</Link>\n        ) : (\n          <Link to=\"/login\">Login</Link>\n        )}\n      </MenuItem>\n    </Menu>\n  );\n\n  const renderModal = <FormDialog open={modalOpen} setOpen={setModalOpen} />;\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = (\n    <Menu\n      className={classes.mobileMenu}\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n      </MenuItem>\n      <MenuItem onClick={handleModalOpen}>\n        <IconButton\n          aria-label=\"image-search\"\n          aria-controls=\"image-search\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <CameraAltIcon />\n        </IconButton>\n      </MenuItem>\n      <MenuItem onClick={handleMenuClose}>\n        <IconButton\n          aria-label=\"all-coffeescoffees\"\n          aria-controls=\"all-coffees\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <NavLink to=\"/coffees\">\n            <FreeBreakfastIcon />{\" \"}\n          </NavLink>\n        </IconButton>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      <AppBar\n        elevation={2}\n        position=\"fixed\"\n        className={classes.appBar}\n        style={{ background: \"#FFFFFF\" }}\n      >\n        <Toolbar>\n          <Link to=\"/\" className={classes.imageIcon} style={{ width: \"50px\" }}>\n            <Icon\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              size=\"small\"\n            >\n              <img src={headIcon} width=\"60\" height=\"50\" alt=\"caffa\" />\n            </Icon>\n          </Link>\n          <Link to=\"/coffees\">\n            <Typography className={classes.allCoffee} variant=\"body2\" noWrap>\n              COFFEES\n            </Typography>\n          </Link>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <SearchBar />\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"camera\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleModalOpen}\n              color=\"inherit\"\n            >\n              <CameraAltIcon />\n            </IconButton>\n\n            {user && (\n              <IconButton\n                edge=\"end\"\n                aria-label=\"account of current user\"\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                onClick={handleProfileMenuOpen}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n            )}\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n\n          <div>\n            {user ? null : (\n              <Link to=\"/login\">\n                <Typography className={classes.title} variant=\"body2\" noWrap>\n                  LOGIN\n                </Typography>\n              </Link>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n      {renderModal}\n      <Paper>\n        <div className={classes.toolbar} />\n      </Paper>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}