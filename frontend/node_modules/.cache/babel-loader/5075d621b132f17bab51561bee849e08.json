{"ast":null,"code":"import _objectSpread from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kevin/lighthouse/caffa-deploy/caffa/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useEffect,useState}from\"react\";import DataContext from\"../../contexts/DataContext.js\";import UserContext from\"../../contexts/UserContext.js\";import CoffeeListItem from\"../coffees/CoffeeListItem.jsx\";import{getFavouritesForUser,userFavCoffees}from\"../../helpers/selectors\";import{Grid,Button}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AccountFavourites(props){var _useContext=useContext(DataContext),state=_useContext.state;var _useContext2=useContext(UserContext),user=_useContext2.user;var classes=props.classes,limit=props.limit;var coffees=state.coffees;var _useState=useState({id:\"\",first_name:\"\",last_name:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];useEffect(function(){setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},{id:user?user.id:\"\",first_name:user?user.first_name:\"\",last_name:user?user.last_name:\"\",email:user?user.email:\"\"});});},[user]);var favourites=Object.values(state.favourites);var Faves=getFavouritesForUser(favourites,values.id);var favCoffees=Object.values(Faves).sort(function(a,b){return new Date(b.created_at)-new Date(a.created_at);});var slicedFav=favCoffees.slice(0,limit);var userCoffees=userFavCoffees(slicedFav,coffees);// Create Coffee List Item\nvar coffeeList=userCoffees.map(function(coffee){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:6,lg:3,style:{padding:\"1.5em 1.5em\"},children:/*#__PURE__*/_jsx(CoffeeListItem,{coffee:coffee},coffee.id)});});return/*#__PURE__*/_jsxs(Grid,{container:true,xs:12,style:{marginTop:\"2rem\"},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:10,children:[coffeeList,!coffeeList.length&&/*#__PURE__*/_jsx(\"p\",{children:\"There are no favourites here!\"})]}),limit?/*#__PURE__*/_jsx(Grid,{container:true,xs:12,style:{justifyContent:\"flex-start\",marginTop:\"4.5em\"},children:/*#__PURE__*/_jsx(Button,{className:classes.seeMoreBtn,href:\"/account/favourites\",variant:\"contained\",color:\"primary\",disableElevation:true,children:\"SEE MORE\"})}):null]});}","map":{"version":3,"sources":["/home/kevin/lighthouse/caffa-deploy/caffa/frontend/src/components/my-account/AccountFavourites.jsx"],"names":["useContext","useEffect","useState","DataContext","UserContext","CoffeeListItem","getFavouritesForUser","userFavCoffees","Grid","Button","AccountFavourites","props","state","user","classes","limit","coffees","id","first_name","last_name","email","values","setValues","prev","favourites","Object","Faves","favCoffees","sort","a","b","Date","created_at","slicedFav","slice","userCoffees","coffeeList","map","coffee","padding","marginTop","length","justifyContent","seeMoreBtn"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport DataContext from \"../../contexts/DataContext.js\";\nimport UserContext from \"../../contexts/UserContext.js\";\nimport CoffeeListItem from \"../coffees/CoffeeListItem.jsx\";\nimport { getFavouritesForUser, userFavCoffees } from \"../../helpers/selectors\";\nimport { Grid, Button } from \"@material-ui/core\";\n\nexport default function AccountFavourites(props) {\n  const { state } = useContext(DataContext);\n  const { user } = useContext(UserContext);\n  const { classes, limit } = props;\n  const coffees = state.coffees;\n\n  const [values, setValues] = useState({\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n\n  useEffect(() => {\n    setValues((prev) => ({\n      ...prev,\n      id: user ? user.id : \"\",\n      first_name: user ? user.first_name : \"\",\n      last_name: user ? user.last_name : \"\",\n      email: user ? user.email : \"\",\n    }));\n  }, [user]);\n\n  const favourites = Object.values(state.favourites);\n  const Faves = getFavouritesForUser(favourites, values.id);\n  const favCoffees = Object.values(Faves).sort((a, b) => {\n    return new Date(b.created_at) - new Date(a.created_at);\n  });\n\n  const slicedFav = favCoffees.slice(0, limit);\n  const userCoffees = userFavCoffees(slicedFav, coffees);\n\n  // Create Coffee List Item\n  const coffeeList = userCoffees.map((coffee) => {\n    return (\n      <Grid\n        item\n        xs={12}\n        sm={8}\n        md={6}\n        lg={3}\n        style={{ padding: \"1.5em 1.5em\" }}\n      >\n        <CoffeeListItem key={coffee.id} coffee={coffee} />\n      </Grid>\n    );\n  });\n\n  return (\n    <Grid container xs={12} style={{ marginTop: \"2rem\" }}>\n      <Grid container spacing={10}>\n        {coffeeList}\n        {!coffeeList.length && <p>There are no favourites here!</p>}\n      </Grid>\n      {limit ? (\n        <Grid\n          container\n          xs={12}\n          style={{ justifyContent: \"flex-start\", marginTop: \"4.5em\" }}\n        >\n          <Button\n            className={classes.seeMoreBtn}\n            href=\"/account/favourites\"\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n          >\n            SEE MORE\n          </Button>\n        </Grid>\n      ) : null}\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}